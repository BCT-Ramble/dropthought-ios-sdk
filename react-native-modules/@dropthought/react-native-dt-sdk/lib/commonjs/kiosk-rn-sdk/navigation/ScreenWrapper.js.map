{"version":3,"names":["React","_interopRequireWildcard","require","_reactNative","_useWindowDimensions","_interopRequireDefault","obj","__esModule","default","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","DefaultScreenWrapper","children","visible","isOnTop","rtl","localVisible","setLocalVisible","useState","width","useWindowDimensions","animatedValueRef","useRef","Animated","Value","useEffect","timing","current","toValue","duration","useNativeDriver","easing","Easing","quad","start","pageVector","createElement","View","style","StyleSheet","absoluteFill","collapsable","pointerEvents","styles","flexOne","whiteBackground","transform","translateX","interpolate","inputRange","outputRange","extrapolate","AndroidScreenWrapper","height","translateY","_default","exports","Platform","select","android","create","flex","backgroundColor"],"sources":["ScreenWrapper.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Platform, View, Animated, Easing, StyleSheet } from 'react-native';\nimport useWindowDimensions from './useWindowDimensions';\n\ntype Props = {\n  children: React.ReactNode;\n  visible: boolean;\n  isOnTop: boolean;\n  rtl: boolean;\n};\n\nconst DefaultScreenWrapper: React.FunctionComponent<Props> = ({\n  children,\n  visible,\n  isOnTop,\n  rtl,\n}) => {\n  const [localVisible, setLocalVisible] = React.useState(visible);\n  const { width } = useWindowDimensions();\n  const animatedValueRef = React.useRef(new Animated.Value(visible ? 0 : 1));\n\n  React.useEffect(() => {\n    Animated.timing(animatedValueRef.current, {\n      toValue: visible ? (isOnTop ? 0 : -0.3) : 1,\n      duration: 300,\n      useNativeDriver: true,\n      easing: Easing.quad,\n    }).start(() => {\n      setLocalVisible(visible);\n    });\n  }, [visible, isOnTop]);\n  const pageVector = rtl ? [width, -1 * width] : [-1 * width, width];\n\n  return (\n    <View\n      style={StyleSheet.absoluteFill}\n      collapsable={false}\n      pointerEvents=\"box-none\"\n    >\n      <Animated.View\n        style={[\n          styles.flexOne,\n          styles.whiteBackground,\n          {\n            transform: [\n              {\n                translateX: animatedValueRef.current.interpolate({\n                  inputRange: [-1, 1],\n                  outputRange: pageVector,\n                  extrapolate: 'clamp',\n                }),\n              },\n            ],\n          },\n        ]}\n        collapsable={false}\n      >\n        {visible || localVisible ? children : null}\n      </Animated.View>\n    </View>\n  );\n};\n\nconst AndroidScreenWrapper: React.FunctionComponent<Props> = ({\n  children,\n  visible,\n  isOnTop,\n}) => {\n  const [localVisible, setLocalVisible] = React.useState(visible);\n  const { height } = useWindowDimensions();\n  const animatedValueRef = React.useRef(new Animated.Value(visible ? 0 : 1));\n\n  React.useEffect(() => {\n    Animated.timing(animatedValueRef.current, {\n      toValue: visible || isOnTop ? 0 : 1,\n      duration: 250,\n      useNativeDriver: true,\n      easing: Easing.quad,\n    }).start(() => {\n      setLocalVisible(visible);\n    });\n  }, [visible, isOnTop]);\n\n  return (\n    <View\n      style={StyleSheet.absoluteFill}\n      collapsable={false}\n      pointerEvents=\"box-none\"\n    >\n      <Animated.View\n        style={[\n          styles.flexOne,\n          styles.whiteBackground,\n          {\n            transform: [\n              {\n                translateY: animatedValueRef.current.interpolate({\n                  inputRange: [-1, 1],\n                  outputRange: [-1 * height, height],\n                  extrapolate: 'clamp',\n                }),\n              },\n            ],\n          },\n        ]}\n        collapsable={false}\n      >\n        {visible || localVisible ? children : null}\n      </Animated.View>\n    </View>\n  );\n};\n\nexport default Platform.select({\n  android: AndroidScreenWrapper,\n  default: DefaultScreenWrapper,\n});\n\nconst styles = StyleSheet.create({\n  flexOne: {\n    flex: 1,\n  },\n  whiteBackground: {\n    backgroundColor: 'white',\n  },\n});\n"],"mappings":"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"}