{"version":3,"names":["React","Platform","View","Animated","Easing","StyleSheet","useWindowDimensions","DefaultScreenWrapper","children","visible","isOnTop","rtl","localVisible","setLocalVisible","useState","width","animatedValueRef","useRef","Value","useEffect","timing","current","toValue","duration","useNativeDriver","easing","quad","start","pageVector","createElement","style","absoluteFill","collapsable","pointerEvents","styles","flexOne","whiteBackground","transform","translateX","interpolate","inputRange","outputRange","extrapolate","AndroidScreenWrapper","height","translateY","select","android","default","create","flex","backgroundColor"],"sources":["ScreenWrapper.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Platform, View, Animated, Easing, StyleSheet } from 'react-native';\nimport useWindowDimensions from './useWindowDimensions';\n\ntype Props = {\n  children: React.ReactNode;\n  visible: boolean;\n  isOnTop: boolean;\n  rtl: boolean;\n};\n\nconst DefaultScreenWrapper: React.FunctionComponent<Props> = ({\n  children,\n  visible,\n  isOnTop,\n  rtl,\n}) => {\n  const [localVisible, setLocalVisible] = React.useState(visible);\n  const { width } = useWindowDimensions();\n  const animatedValueRef = React.useRef(new Animated.Value(visible ? 0 : 1));\n\n  React.useEffect(() => {\n    Animated.timing(animatedValueRef.current, {\n      toValue: visible ? (isOnTop ? 0 : -0.3) : 1,\n      duration: 300,\n      useNativeDriver: true,\n      easing: Easing.quad,\n    }).start(() => {\n      setLocalVisible(visible);\n    });\n  }, [visible, isOnTop]);\n  const pageVector = rtl ? [width, -1 * width] : [-1 * width, width];\n\n  return (\n    <View\n      style={StyleSheet.absoluteFill}\n      collapsable={false}\n      pointerEvents=\"box-none\"\n    >\n      <Animated.View\n        style={[\n          styles.flexOne,\n          styles.whiteBackground,\n          {\n            transform: [\n              {\n                translateX: animatedValueRef.current.interpolate({\n                  inputRange: [-1, 1],\n                  outputRange: pageVector,\n                  extrapolate: 'clamp',\n                }),\n              },\n            ],\n          },\n        ]}\n        collapsable={false}\n      >\n        {visible || localVisible ? children : null}\n      </Animated.View>\n    </View>\n  );\n};\n\nconst AndroidScreenWrapper: React.FunctionComponent<Props> = ({\n  children,\n  visible,\n  isOnTop,\n}) => {\n  const [localVisible, setLocalVisible] = React.useState(visible);\n  const { height } = useWindowDimensions();\n  const animatedValueRef = React.useRef(new Animated.Value(visible ? 0 : 1));\n\n  React.useEffect(() => {\n    Animated.timing(animatedValueRef.current, {\n      toValue: visible || isOnTop ? 0 : 1,\n      duration: 250,\n      useNativeDriver: true,\n      easing: Easing.quad,\n    }).start(() => {\n      setLocalVisible(visible);\n    });\n  }, [visible, isOnTop]);\n\n  return (\n    <View\n      style={StyleSheet.absoluteFill}\n      collapsable={false}\n      pointerEvents=\"box-none\"\n    >\n      <Animated.View\n        style={[\n          styles.flexOne,\n          styles.whiteBackground,\n          {\n            transform: [\n              {\n                translateY: animatedValueRef.current.interpolate({\n                  inputRange: [-1, 1],\n                  outputRange: [-1 * height, height],\n                  extrapolate: 'clamp',\n                }),\n              },\n            ],\n          },\n        ]}\n        collapsable={false}\n      >\n        {visible || localVisible ? children : null}\n      </Animated.View>\n    </View>\n  );\n};\n\nexport default Platform.select({\n  android: AndroidScreenWrapper,\n  default: DefaultScreenWrapper,\n});\n\nconst styles = StyleSheet.create({\n  flexOne: {\n    flex: 1,\n  },\n  whiteBackground: {\n    backgroundColor: 'white',\n  },\n});\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,QAAQ,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,UAAU,QAAQ,cAAc;AAC3E,OAAOC,mBAAmB,MAAM,uBAAuB;AASvD,MAAMC,oBAAoD,GAAGA,CAAC;EAC5DC,QAAQ;EACRC,OAAO;EACPC,OAAO;EACPC;AACF,CAAC,KAAK;EACJ,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGb,KAAK,CAACc,QAAQ,CAACL,OAAO,CAAC;EAC/D,MAAM;IAAEM;EAAM,CAAC,GAAGT,mBAAmB,CAAC,CAAC;EACvC,MAAMU,gBAAgB,GAAGhB,KAAK,CAACiB,MAAM,CAAC,IAAId,QAAQ,CAACe,KAAK,CAACT,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;EAE1ET,KAAK,CAACmB,SAAS,CAAC,MAAM;IACpBhB,QAAQ,CAACiB,MAAM,CAACJ,gBAAgB,CAACK,OAAO,EAAE;MACxCC,OAAO,EAAEb,OAAO,GAAIC,OAAO,GAAG,CAAC,GAAG,CAAC,GAAG,GAAI,CAAC;MAC3Ca,QAAQ,EAAE,GAAG;MACbC,eAAe,EAAE,IAAI;MACrBC,MAAM,EAAErB,MAAM,CAACsB;IACjB,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM;MACbd,eAAe,CAACJ,OAAO,CAAC;IAC1B,CAAC,CAAC;EACJ,CAAC,EAAE,CAACA,OAAO,EAAEC,OAAO,CAAC,CAAC;EACtB,MAAMkB,UAAU,GAAGjB,GAAG,GAAG,CAACI,KAAK,EAAE,CAAC,CAAC,GAAGA,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,GAAGA,KAAK,EAAEA,KAAK,CAAC;EAElE,oBACEf,KAAA,CAAA6B,aAAA,CAAC3B,IAAI;IACH4B,KAAK,EAAEzB,UAAU,CAAC0B,YAAa;IAC/BC,WAAW,EAAE,KAAM;IACnBC,aAAa,EAAC;EAAU,gBAExBjC,KAAA,CAAA6B,aAAA,CAAC1B,QAAQ,CAACD,IAAI;IACZ4B,KAAK,EAAE,CACLI,MAAM,CAACC,OAAO,EACdD,MAAM,CAACE,eAAe,EACtB;MACEC,SAAS,EAAE,CACT;QACEC,UAAU,EAAEtB,gBAAgB,CAACK,OAAO,CAACkB,WAAW,CAAC;UAC/CC,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;UACnBC,WAAW,EAAEb,UAAU;UACvBc,WAAW,EAAE;QACf,CAAC;MACH,CAAC;IAEL,CAAC,CACD;IACFV,WAAW,EAAE;EAAM,GAElBvB,OAAO,IAAIG,YAAY,GAAGJ,QAAQ,GAAG,IACzB,CACX,CAAC;AAEX,CAAC;AAED,MAAMmC,oBAAoD,GAAGA,CAAC;EAC5DnC,QAAQ;EACRC,OAAO;EACPC;AACF,CAAC,KAAK;EACJ,MAAM,CAACE,YAAY,EAAEC,eAAe,CAAC,GAAGb,KAAK,CAACc,QAAQ,CAACL,OAAO,CAAC;EAC/D,MAAM;IAAEmC;EAAO,CAAC,GAAGtC,mBAAmB,CAAC,CAAC;EACxC,MAAMU,gBAAgB,GAAGhB,KAAK,CAACiB,MAAM,CAAC,IAAId,QAAQ,CAACe,KAAK,CAACT,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;EAE1ET,KAAK,CAACmB,SAAS,CAAC,MAAM;IACpBhB,QAAQ,CAACiB,MAAM,CAACJ,gBAAgB,CAACK,OAAO,EAAE;MACxCC,OAAO,EAAEb,OAAO,IAAIC,OAAO,GAAG,CAAC,GAAG,CAAC;MACnCa,QAAQ,EAAE,GAAG;MACbC,eAAe,EAAE,IAAI;MACrBC,MAAM,EAAErB,MAAM,CAACsB;IACjB,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM;MACbd,eAAe,CAACJ,OAAO,CAAC;IAC1B,CAAC,CAAC;EACJ,CAAC,EAAE,CAACA,OAAO,EAAEC,OAAO,CAAC,CAAC;EAEtB,oBACEV,KAAA,CAAA6B,aAAA,CAAC3B,IAAI;IACH4B,KAAK,EAAEzB,UAAU,CAAC0B,YAAa;IAC/BC,WAAW,EAAE,KAAM;IACnBC,aAAa,EAAC;EAAU,gBAExBjC,KAAA,CAAA6B,aAAA,CAAC1B,QAAQ,CAACD,IAAI;IACZ4B,KAAK,EAAE,CACLI,MAAM,CAACC,OAAO,EACdD,MAAM,CAACE,eAAe,EACtB;MACEC,SAAS,EAAE,CACT;QACEQ,UAAU,EAAE7B,gBAAgB,CAACK,OAAO,CAACkB,WAAW,CAAC;UAC/CC,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;UACnBC,WAAW,EAAE,CAAC,CAAC,CAAC,GAAGG,MAAM,EAAEA,MAAM,CAAC;UAClCF,WAAW,EAAE;QACf,CAAC;MACH,CAAC;IAEL,CAAC,CACD;IACFV,WAAW,EAAE;EAAM,GAElBvB,OAAO,IAAIG,YAAY,GAAGJ,QAAQ,GAAG,IACzB,CACX,CAAC;AAEX,CAAC;AAED,eAAeP,QAAQ,CAAC6C,MAAM,CAAC;EAC7BC,OAAO,EAAEJ,oBAAoB;EAC7BK,OAAO,EAAEzC;AACX,CAAC,CAAC;AAEF,MAAM2B,MAAM,GAAG7B,UAAU,CAAC4C,MAAM,CAAC;EAC/Bd,OAAO,EAAE;IACPe,IAAI,EAAE;EACR,CAAC;EACDd,eAAe,EAAE;IACfe,eAAe,EAAE;EACnB;AACF,CAAC,CAAC"}