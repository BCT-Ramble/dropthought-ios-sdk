{"version":3,"sources":["PictureChoiceOtherItem.tsx"],"names":["React","useState","View","StyleSheet","Image","TouchableOpacity","TextInput","Alert","Platform","PermissionsAndroid","Text","Dimensions","GlobalStyle","Colors","addOpacityToHex","i18n","ActivityIndicatorMask","launchCamera","launchImageLibrary","ChooseIcon","useTheme","COLOR_SCHEMES","MAXIMUM_SIZE_KB","PictureChoiceOtherItem","otherPicture","isMultipleChoice","selected","placeholder","columnGap","onChooseImage","onSelect","onUpload","isUploading","onError","onChangeText","themeColor","fontColor","colorScheme","width","get","questionMargin","itemWidth","imageLoadError","setImageLoadError","pictureSelectedStyle","styles","pictureSelected","borderColor","iconStyle","tintColor","nonSelectedOtherPictureContainerStyle","nonSelectedOtherPictureContainer","backgroundColor","loadingImage","setLoadingImage","validTypes","uploadPicture","response","assets","length","uri","fileName","name","type","fileSize","includes","t","file","hasAndroidPermission","permission","PERMISSIONS","CAMERA","hasPermission","check","status","request","RESULTS","GRANTED","openPhotoLibrary","options","selectionLimit","mediaType","openCamera","saveToPhotos","OS","then","result","showChooseAlert","alert","undefined","text","onPress","style","placeholderTextStyle","dark","placeholderText","color","appearanceSubBlack","optionalTextStyle","optionalText","optionTextStyle","optionText","inputStyle","input","reloadStyle","pictureReloadContainer","reloadPlaceholderImage","require","row","reloadText","image","_error","placeholderGroup","chooseImageText","optionContainer","flex1","sliderLabel","transparent","value","create","flexDirection","marginTop","minHeight","marginLeft","flex","fontSize","height","borderRadius","borderWidth","borderBottomWidth","borderBottomColor","rankingContainerBorder","borderStyle","alignItems","justifyContent","marginBottom","textAlign","fontWeight","rankingBorder"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SACEC,IADF,EAEEC,UAFF,EAGEC,KAHF,EAIEC,gBAJF,EAKEC,SALF,EAMEC,KANF,EAOEC,QAPF,EAQEC,kBARF,EASEC,IATF,EAUEC,UAVF,QAWO,cAXP;AAYA,OAAOC,WAAP,IAAsBC,MAAtB,EAA8BC,eAA9B,QAAqD,WAArD;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAOC,qBAAP,MAAkC,yBAAlC;AACA,SAASC,YAAT,EAAuBC,kBAAvB,QAAiD,2BAAjD;AACA,SAASC,UAAT,QAA2B,qBAA3B;AAMA,SAASC,QAAT,EAAmBC,aAAnB,QAAwC,mBAAxC;AAGA,MAAMC,eAAe,GAAG,IAAI,IAAJ,GAAW,IAAnC,C,CAAyC;;AAiBzC,MAAMC,sBAAsB,GAAG,CAAC;AAC9BC,EAAAA,YAD8B;AAE9BC,EAAAA,gBAF8B;AAG9BC,EAAAA,QAH8B;AAI9BC,EAAAA,WAJ8B;AAK9BC,EAAAA,SAL8B;AAM9BC,EAAAA,aAN8B;AAO9BC,EAAAA,QAP8B;AAQ9BC,EAAAA,QAR8B;AAS9BC,EAAAA,WAT8B;AAU9BC,EAAAA,OAV8B;AAW9BC,EAAAA,YAX8B;AAY9BC,EAAAA;AAZ8B,CAAD,KAalB;AACX,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAA6BjB,QAAQ,EAA3C;AAEA,QAAM;AAAEkB,IAAAA;AAAF,MAAY3B,UAAU,CAAC4B,GAAX,CAAe,QAAf,CAAlB;AACA,QAAMC,cAAc,GAAG,EAAvB;AACA,QAAMC,SAAS,GAAG,CAACH,KAAK,GAAG,IAAIE,cAAZ,GAA6BZ,SAA9B,IAA2C,CAA7D;AAEA,QAAM,CAACc,cAAD,EAAiBC,iBAAjB,IAAsC1C,QAAQ,CAAC,KAAD,CAApD;AAEA,QAAM2C,oBAAoB,GAAG,CAC3BC,MAAM,CAACC,eADoB,EAE3B;AAAER,IAAAA,KAAK,EAAEG,SAAT;AAAoBM,IAAAA,WAAW,EAAEZ;AAAjC,GAF2B,CAA7B;AAIA,QAAMa,SAAS,GAAG;AAAEC,IAAAA,SAAS,EAAEd;AAAb,GAAlB;AAEA,QAAMe,qCAAqC,GAAG,CAC5CL,MAAM,CAACM,gCADqC,EAE5C;AACEC,IAAAA,eAAe,EAAEtC,eAAe,CAACqB,UAAD,EAAa,GAAb,CADlC;AAEEY,IAAAA,WAAW,EAAEZ,UAFf;AAGEG,IAAAA,KAAK,EAAEG;AAHT,GAF4C,CAA9C;AASA,QAAM,CAACY,YAAD,EAAeC,eAAf,IAAkCrD,QAAQ,CAAC,KAAD,CAAhD;AAEA,QAAMsD,UAAU,GAAG,CAAC,WAAD,EAAc,WAAd,EAA2B,YAA3B,CAAnB;;AAEA,QAAMC,aAAa,GAAIC,QAAD,IAAmC;AAAA;;AACvD,QAAIA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,IAAAA,QAAQ,CAAEC,MAAV,IAAoB,CAAAD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,gCAAAA,QAAQ,CAAEC,MAAV,sEAAkBC,MAAlB,IAA2B,CAAnD,EAAsD;AACpD,YAAM;AAAEC,QAAAA,GAAF;AAAOC,QAAAA,QAAQ,EAAEC,IAAjB;AAAuBC,QAAAA,IAAvB;AAA6BC,QAAAA;AAA7B,UAA0CP,QAAQ,CAACC,MAAT,CAAgB,CAAhB,CAAhD;;AAEA,UAAIK,IAAI,IAAI,CAACR,UAAU,CAACU,QAAX,CAAoBF,IAApB,CAAb,EAAwC;AACtC9B,QAAAA,OAAO,CAAE,GAAElB,IAAI,CAACmD,CAAL,CAAO,gCAAP,CAAyC,EAA7C,CAAP;AACD,OAFD,MAEO,IAAIF,QAAQ,IAAIA,QAAQ,GAAG1C,eAA3B,EAA4C;AACjDW,QAAAA,OAAO,CAAE,GAAElB,IAAI,CAACmD,CAAL,CAAO,6BAAP,CAAsC,EAA1C,CAAP;AACD,OAFM,MAEA;AACL,YAAIN,GAAG,IAAIE,IAAP,IAAeC,IAAnB,EAAyB;AACvB,gBAAMI,IAAoB,GAAG;AAAEP,YAAAA,GAAF;AAAOE,YAAAA,IAAP;AAAaC,YAAAA;AAAb,WAA7B;AACAhC,UAAAA,QAAQ,CAACoC,IAAD,CAAR;AACAtC,UAAAA,aAAa;AACd;AACF;AACF;AACF,GAhBD;;AAkBA,iBAAeuC,oBAAf,GAAsC;AACpC,UAAMC,UAAU,GAAG5D,kBAAkB,CAAC6D,WAAnB,CAA+BC,MAAlD;AACA,UAAMC,aAAa,GAAG,MAAM/D,kBAAkB,CAACgE,KAAnB,CAAyBJ,UAAzB,CAA5B;;AACA,QAAIG,aAAJ,EAAmB;AACjB,aAAO,IAAP;AACD;;AACD,UAAME,MAAM,GAAG,MAAMjE,kBAAkB,CAACkE,OAAnB,CAA2BN,UAA3B,CAArB;AACA,WAAOK,MAAM,KAAKjE,kBAAkB,CAACmE,OAAnB,CAA2BC,OAA7C;AACD;;AAED,QAAMC,gBAAgB,GAAG,MAAM;AAC7B,UAAMC,OAA4B,GAAG;AACnCC,MAAAA,cAAc,EAAE,CADmB;AAEnCC,MAAAA,SAAS,EAAE;AAFwB,KAArC;AAIA/D,IAAAA,kBAAkB,CAAC6D,OAAD,EAAUvB,aAAV,CAAlB;AACD,GAND;;AAQA,QAAM0B,UAAU,GAAG,MAAM;AACvB,UAAMH,OAAsB,GAAG;AAC7BI,MAAAA,YAAY,EAAE,IADe;AAE7BF,MAAAA,SAAS,EAAE;AAFkB,KAA/B;;AAIA,QAAIzE,QAAQ,CAAC4E,EAAT,KAAgB,SAApB,EAA+B;AAC7BhB,MAAAA,oBAAoB,GAAGiB,IAAvB,CAA6BC,MAAD,IAAY;AACtC,YAAIA,MAAJ,EAAY;AACVrE,UAAAA,YAAY,CAAC8D,OAAD,EAAUvB,aAAV,CAAZ;AACD;AACF,OAJD;AAKD,KAND,MAMO;AACLvC,MAAAA,YAAY,CAAC8D,OAAD,EAAUvB,aAAV,CAAZ;AACD;AACF,GAdD;;AAgBA,QAAM+B,eAAe,GAAG,MAAM;AAC5BhF,IAAAA,KAAK,CAACiF,KAAN,CAAa,GAAEzE,IAAI,CAACmD,CAAL,CAAO,iCAAP,CAA0C,EAAzD,EAA4DuB,SAA5D,EAAuE,CACrE;AAAEC,MAAAA,IAAI,EAAG,GAAE3E,IAAI,CAACmD,CAAL,CAAO,uBAAP,CAAgC,EAA3C;AAA8CyB,MAAAA,OAAO,EAAET;AAAvD,KADqE,EAErE;AACEQ,MAAAA,IAAI,EAAG,GAAE3E,IAAI,CAACmD,CAAL,CAAO,6BAAP,CAAsC,EADjD;AAEEyB,MAAAA,OAAO,EAAEb;AAFX,KAFqE,EAMrE;AAAEY,MAAAA,IAAI,EAAG,GAAE3E,IAAI,CAACmD,CAAL,CAAO,uBAAP,CAAgC,EAA3C;AAA8C0B,MAAAA,KAAK,EAAE;AAArD,KANqE,CAAvE;AAQD,GATD;;AAWA,QAAMC,oBAAoB,GACxBxD,WAAW,KAAKhB,aAAa,CAACyE,IAA9B,GACI,CACEjD,MAAM,CAACkD,eADT,EAEE;AAAEC,IAAAA,KAAK,EAAE5D,SAAF,aAAEA,SAAF,cAAEA,SAAF,GAAevB,MAAM,CAACoF;AAA7B,GAFF,CADJ,GAKI,CAACpD,MAAM,CAACkD,eAAR,EAAyB;AAAEC,IAAAA,KAAK,EAAE5D;AAAT,GAAzB,CANN;AAQA,QAAM8D,iBAAiB,GACrB7D,WAAW,KAAKhB,aAAa,CAACyE,IAA9B,GACI,CAACjD,MAAM,CAACsD,YAAR,EAAsB;AAAEH,IAAAA,KAAK,EAAE5D,SAAF,aAAEA,SAAF,cAAEA,SAAF,GAAevB,MAAM,CAACoF;AAA7B,GAAtB,CADJ,GAEI,CAACpD,MAAM,CAACsD,YAAR,EAAsB;AAAEH,IAAAA,KAAK,EAAE5D;AAAT,GAAtB,CAHN;AAKA,QAAMgE,eAAe,GACnB/D,WAAW,KAAKhB,aAAa,CAACyE,IAA9B,GACI,CAACjD,MAAM,CAACwD,UAAR,EAAoB;AAAEL,IAAAA,KAAK,EAAE5D,SAAF,aAAEA,SAAF,cAAEA,SAAF,GAAevB,MAAM,CAACoF;AAA7B,GAApB,CADJ,GAEI,CAACpD,MAAM,CAACwD,UAAR,EAAoB;AAAEL,IAAAA,KAAK,EAAE5D;AAAT,GAApB,CAHN;AAKA,QAAMkE,UAAU,GACdjE,WAAW,KAAKhB,aAAa,CAACyE,IAA9B,GACI,CAACjD,MAAM,CAAC0D,KAAR,EAAe;AAAEP,IAAAA,KAAK,EAAE5D,SAAF,aAAEA,SAAF,cAAEA,SAAF,GAAevB,MAAM,CAACoF;AAA7B,GAAf,CADJ,GAEI,CAACpD,MAAM,CAAC0D,KAAR,EAAe;AAAEP,IAAAA,KAAK,EAAE5D;AAAT,GAAf,CAHN;AAKA,QAAMoE,WAAW,GAAG,CAAC3D,MAAM,CAAC4D,sBAAR,EAAgC;AAAEnE,IAAAA,KAAK,EAAEG;AAAT,GAAhC,CAApB;AAEA,sBACE,oBAAC,IAAD,qBACE,oBAAC,gBAAD;AACE,IAAA,OAAO,EAAE,MAAM;AACb,UAAIC,cAAJ,EAAoB;AAClBC,QAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACAW,QAAAA,eAAe,CAAC,IAAD,CAAf;AACD,OAHD,MAGO;AACLiC,QAAAA,eAAe;AAChB;AACF;AARH,KAUG7C,cAAc,gBACb,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE8D;AAAb,kBACE,oBAAC,KAAD;AACE,IAAA,KAAK,EAAE3D,MAAM,CAAC6D,sBADhB;AAEE,IAAA,MAAM,EAAEC,OAAO,CAAC,oCAAD;AAFjB,IADF,eAKE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE/F,WAAW,CAACgG;AAAzB,kBACE,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAED,OAAO,CAAC,yBAAD;AAAtB,IADF,eAEE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE9D,MAAM,CAACgE;AAApB,KACI,GAAE9F,IAAI,CAACmD,CAAL,CAAO,uBAAP,CAAgC,EADtC,CAFF,CALF,CADa,GAaXxC,QAAQ,IAAIF,YAAY,CAACsF,KAAb,CAAmBnD,MAAnB,GAA4B,CAAxC,gBACF,oBAAC,KAAD;AACE,IAAA,KAAK,EAAEf,oBADT;AAEE,IAAA,MAAM,EAAE;AAAEgB,MAAAA,GAAG,EAAEpC,YAAY,CAACsF;AAApB,KAFV;AAGE,IAAA,WAAW,EAAE,MAAMxD,eAAe,CAAC,IAAD,CAHpC;AAIE,IAAA,SAAS,EAAE,MAAMA,eAAe,CAAC,KAAD,CAJlC;AAKE,IAAA,OAAO,EAAGyD,MAAD,IAAY;AACnBpE,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACAW,MAAAA,eAAe,CAAC,KAAD,CAAf;AACD;AARH,IADE,gBAYF,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEJ;AAAb,kBACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEL,MAAM,CAACmE;AAApB,kBACE,oBAAC,KAAD;AACE,IAAA,KAAK,EAAEhE,SADT;AAEE,IAAA,MAAM,EAAE2D,OAAO,CAAC,8BAAD;AAFjB,IADF,eAKE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEd;AAAb,KACI,GAAE9E,IAAI,CAACmD,CAAL,CAAO,wBAAP,CAAiC,EADvC,eAEE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAErB,MAAM,CAACoE;AAApB,KACI,GAAElG,IAAI,CAACmD,CAAL,CAAO,4BAAP,CAAqC,EAD3C,CAFF,CALF,eAWE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEgC;AAAb,KACI,GAAEnF,IAAI,CAACmD,CAAL,CAAO,yBAAP,CAAkC,EADxC,CAXF,CADF,CAnCJ,eAqDE,oBAAC,qBAAD;AAAuB,IAAA,OAAO,EAAElC,WAAW,IAAIqB;AAA/C,IArDF,CADF,eAwDE,oBAAC,gBAAD;AACE,IAAA,KAAK,EAAER,MAAM,CAACqE,eADhB;AAEE,IAAA,OAAO,EAAE,MAAM;AACb,UAAI,CAACxF,QAAL,EAAe;AACb6D,QAAAA,eAAe;AAChB;;AACDzD,MAAAA,QAAQ;AACT;AAPH,kBASE,oBAAC,UAAD;AACE,IAAA,gBAAgB,EAAEL,gBADpB;AAEE,IAAA,QAAQ,EAAEC,QAFZ;AAGE,IAAA,UAAU,EAAES;AAHd,IATF,eAcE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEvB,WAAW,CAACuG;AAAzB,kBACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEf;AAAb,KACI,GAAErF,IAAI,CAACmD,CAAL,CAAO,sBAAP,CAA+B,EADrC,CADF,eAIE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAEoC,UADT;AAEE,IAAA,SAAS,EAAE,GAFb;AAGE,IAAA,QAAQ,EAAE5E,QAHZ;AAIE,IAAA,WAAW,EAAEC,WAJf;AAKE,IAAA,oBAAoB,EAAEd,MAAM,CAACuG,WAL/B;AAME,IAAA,qBAAqB,EAAEvG,MAAM,CAACwG,WANhC;AAOE,IAAA,YAAY,EAAE7F,YAAY,CAAC8F,KAP7B;AAQE,IAAA,YAAY,EAAEpF;AARhB,IAJF,CAdF,CAxDF,CADF;AAyFD,CA1ND;;AA4NA,eAAeX,sBAAf;AAEA,MAAMsB,MAAM,GAAG1C,UAAU,CAACoH,MAAX,CAAkB;AAC/BL,EAAAA,eAAe,EAAE;AACfM,IAAAA,aAAa,EAAE,KADA;AAEfC,IAAAA,SAAS,EAAE,EAFI;AAGfC,IAAAA,SAAS,EAAE;AAHI,GADc;AAM/BrB,EAAAA,UAAU,EAAE;AACVsB,IAAAA,UAAU,EAAE,CADF;AAEVC,IAAAA,IAAI,EAAE,CAFI;AAGVC,IAAAA,QAAQ,EAAE;AAHA,GANmB;AAW/B/E,EAAAA,eAAe,EAAE;AACfgF,IAAAA,MAAM,EAAE,GADO;AAEfC,IAAAA,YAAY,EAAE,EAFC;AAGfC,IAAAA,WAAW,EAAE;AAHE,GAXc;AAgB/BzB,EAAAA,KAAK,EAAE;AACLoB,IAAAA,UAAU,EAAE,CADP;AAELF,IAAAA,SAAS,EAAE,CAFN;AAGLQ,IAAAA,iBAAiB,EAAE,CAHd;AAILP,IAAAA,SAAS,EAAE,EAJN;AAKLQ,IAAAA,iBAAiB,EAAErH,MAAM,CAACsH;AALrB,GAhBwB;AAuB/BhF,EAAAA,gCAAgC,EAAE;AAChC2E,IAAAA,MAAM,EAAE,GADwB;AAEhCE,IAAAA,WAAW,EAAE,CAFmB;AAGhCD,IAAAA,YAAY,EAAE,EAHkB;AAIhCK,IAAAA,WAAW,EAAE,QAJmB;AAKhCC,IAAAA,UAAU,EAAE,QALoB;AAMhCC,IAAAA,cAAc,EAAE;AANgB,GAvBH;AA+B/BtB,EAAAA,gBAAgB,EAAE;AAChBqB,IAAAA,UAAU,EAAE;AADI,GA/Ba;AAkC/BtC,EAAAA,eAAe,EAAE;AACf0B,IAAAA,SAAS,EAAE,CADI;AAEfc,IAAAA,YAAY,EAAE,CAFC;AAGfV,IAAAA,QAAQ,EAAE,EAHK;AAIfW,IAAAA,SAAS,EAAE;AAJI,GAlCc;AAwC/BvB,EAAAA,eAAe,EAAE;AACfY,IAAAA,QAAQ,EAAE,EADK;AAEfY,IAAAA,UAAU,EAAE;AAFG,GAxCc;AA4C/BtC,EAAAA,YAAY,EAAE;AACZ0B,IAAAA,QAAQ,EAAE,EADE;AAEZY,IAAAA,UAAU,EAAE;AAFA,GA5CiB;AAgD/BhC,EAAAA,sBAAsB,EAAE;AACtBqB,IAAAA,MAAM,EAAE,GADc;AAEtBC,IAAAA,YAAY,EAAE,EAFQ;AAGtBC,IAAAA,WAAW,EAAE,CAHS;AAItBjF,IAAAA,WAAW,EAAElC,MAAM,CAAC6H,aAJE;AAKtBL,IAAAA,UAAU,EAAE,QALU;AAMtBC,IAAAA,cAAc,EAAE;AANM,GAhDO;AAwD/B5B,EAAAA,sBAAsB,EAAE;AACtB6B,IAAAA,YAAY,EAAE;AADQ,GAxDO;AA2D/B1B,EAAAA,UAAU,EAAE;AACVgB,IAAAA,QAAQ,EAAE,EADA;AAEVF,IAAAA,UAAU,EAAE;AAFF;AA3DmB,CAAlB,CAAf","sourcesContent":["import React, { useState } from 'react';\nimport {\n  View,\n  StyleSheet,\n  Image,\n  TouchableOpacity,\n  TextInput,\n  Alert,\n  Platform,\n  PermissionsAndroid,\n  Text,\n  Dimensions,\n} from 'react-native';\nimport GlobalStyle, { Colors, addOpacityToHex } from '../styles';\nimport i18n from '../translation';\nimport ActivityIndicatorMask from './ActivityIndicatorMask';\nimport { launchCamera, launchImageLibrary } from 'react-native-image-picker';\nimport { ChooseIcon } from './PictureChoiceItem';\nimport type {\n  ImagePickerResponse,\n  ImageLibraryOptions,\n  CameraOptions,\n} from 'react-native-image-picker';\nimport { useTheme, COLOR_SCHEMES } from '../contexts/theme';\nimport type { ImageFileProps } from '../data';\n\nconst MAXIMUM_SIZE_KB = 5 * 1024 * 1024; // 2MB\n\ntype Props = {\n  otherPicture: { image: string; value: string };\n  isMultipleChoice: boolean;\n  selected: boolean;\n  placeholder: string;\n  columnGap: number;\n  onChooseImage: () => void;\n  onSelect: () => void;\n  onUpload: (file: ImageFileProps) => void;\n  isUploading: boolean;\n  onError: (msg: string) => void;\n  onChangeText: (text: string) => void;\n  themeColor: string;\n};\n\nconst PictureChoiceOtherItem = ({\n  otherPicture,\n  isMultipleChoice,\n  selected,\n  placeholder,\n  columnGap,\n  onChooseImage,\n  onSelect,\n  onUpload,\n  isUploading,\n  onError,\n  onChangeText,\n  themeColor,\n}: Props) => {\n  const { fontColor, colorScheme } = useTheme();\n\n  const { width } = Dimensions.get('window');\n  const questionMargin = 30;\n  const itemWidth = (width - 2 * questionMargin - columnGap) / 2;\n\n  const [imageLoadError, setImageLoadError] = useState(false);\n\n  const pictureSelectedStyle = [\n    styles.pictureSelected,\n    { width: itemWidth, borderColor: themeColor },\n  ];\n  const iconStyle = { tintColor: themeColor };\n\n  const nonSelectedOtherPictureContainerStyle = [\n    styles.nonSelectedOtherPictureContainer,\n    {\n      backgroundColor: addOpacityToHex(themeColor, 0.1),\n      borderColor: themeColor,\n      width: itemWidth,\n    },\n  ];\n\n  const [loadingImage, setLoadingImage] = useState(false);\n\n  const validTypes = ['image/png', 'image/jpg', 'image/jpeg'];\n\n  const uploadPicture = (response: ImagePickerResponse) => {\n    if (response?.assets && response?.assets?.length > 0) {\n      const { uri, fileName: name, type, fileSize } = response.assets[0];\n\n      if (type && !validTypes.includes(type)) {\n        onError(`${i18n.t('picture-choice:invalidTypeHint')}`);\n      } else if (fileSize && fileSize > MAXIMUM_SIZE_KB) {\n        onError(`${i18n.t('picture-choice:overSizeHint')}`);\n      } else {\n        if (uri && name && type) {\n          const file: ImageFileProps = { uri, name, type };\n          onUpload(file);\n          onChooseImage();\n        }\n      }\n    }\n  };\n\n  async function hasAndroidPermission() {\n    const permission = PermissionsAndroid.PERMISSIONS.CAMERA;\n    const hasPermission = await PermissionsAndroid.check(permission);\n    if (hasPermission) {\n      return true;\n    }\n    const status = await PermissionsAndroid.request(permission);\n    return status === PermissionsAndroid.RESULTS.GRANTED;\n  }\n\n  const openPhotoLibrary = () => {\n    const options: ImageLibraryOptions = {\n      selectionLimit: 1,\n      mediaType: 'photo',\n    };\n    launchImageLibrary(options, uploadPicture);\n  };\n\n  const openCamera = () => {\n    const options: CameraOptions = {\n      saveToPhotos: true,\n      mediaType: 'photo',\n    };\n    if (Platform.OS === 'android') {\n      hasAndroidPermission().then((result) => {\n        if (result) {\n          launchCamera(options, uploadPicture);\n        }\n      });\n    } else {\n      launchCamera(options, uploadPicture);\n    }\n  };\n\n  const showChooseAlert = () => {\n    Alert.alert(`${i18n.t('picture-choice:chooseImageTitle')}`, undefined, [\n      { text: `${i18n.t('picture-choice:camera')}`, onPress: openCamera },\n      {\n        text: `${i18n.t('picture-choice:photoLibrary')}`,\n        onPress: openPhotoLibrary,\n      },\n      { text: `${i18n.t('picture-choice:cancel')}`, style: 'cancel' },\n    ]);\n  };\n\n  const placeholderTextStyle =\n    colorScheme === COLOR_SCHEMES.dark\n      ? [\n          styles.placeholderText,\n          { color: fontColor ?? Colors.appearanceSubBlack },\n        ]\n      : [styles.placeholderText, { color: fontColor }];\n\n  const optionalTextStyle =\n    colorScheme === COLOR_SCHEMES.dark\n      ? [styles.optionalText, { color: fontColor ?? Colors.appearanceSubBlack }]\n      : [styles.optionalText, { color: fontColor }];\n\n  const optionTextStyle =\n    colorScheme === COLOR_SCHEMES.dark\n      ? [styles.optionText, { color: fontColor ?? Colors.appearanceSubBlack }]\n      : [styles.optionText, { color: fontColor }];\n\n  const inputStyle =\n    colorScheme === COLOR_SCHEMES.dark\n      ? [styles.input, { color: fontColor ?? Colors.appearanceSubBlack }]\n      : [styles.input, { color: fontColor }];\n\n  const reloadStyle = [styles.pictureReloadContainer, { width: itemWidth }];\n\n  return (\n    <View>\n      <TouchableOpacity\n        onPress={() => {\n          if (imageLoadError) {\n            setImageLoadError(false);\n            setLoadingImage(true);\n          } else {\n            showChooseAlert();\n          }\n        }}\n      >\n        {imageLoadError ? (\n          <View style={reloadStyle}>\n            <Image\n              style={styles.reloadPlaceholderImage}\n              source={require('../assets/ic_image_placeholder.png')}\n            />\n            <View style={GlobalStyle.row}>\n              <Image source={require('../assets/ic_reload.png')} />\n              <Text style={styles.reloadText}>\n                {`${i18n.t('picture-choice:reload')}`}\n              </Text>\n            </View>\n          </View>\n        ) : selected && otherPicture.image.length > 0 ? (\n          <Image\n            style={pictureSelectedStyle}\n            source={{ uri: otherPicture.image }}\n            onLoadStart={() => setLoadingImage(true)}\n            onLoadEnd={() => setLoadingImage(false)}\n            onError={(_error) => {\n              setImageLoadError(true);\n              setLoadingImage(false);\n            }}\n          />\n        ) : (\n          <View style={nonSelectedOtherPictureContainerStyle}>\n            <View style={styles.placeholderGroup}>\n              <Image\n                style={iconStyle}\n                source={require('../assets/cloudComputing.png')}\n              />\n              <Text style={placeholderTextStyle}>\n                {`${i18n.t('picture-choice:clickTo')}`}\n                <Text style={styles.chooseImageText}>\n                  {`${i18n.t('picture-choice:chooseImage')}`}\n                </Text>\n              </Text>\n              <Text style={optionalTextStyle}>\n                {`${i18n.t('picture-choice:optional')}`}\n              </Text>\n            </View>\n          </View>\n        )}\n        <ActivityIndicatorMask loading={isUploading || loadingImage} />\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={styles.optionContainer}\n        onPress={() => {\n          if (!selected) {\n            showChooseAlert();\n          }\n          onSelect();\n        }}\n      >\n        <ChooseIcon\n          isMultipleChoice={isMultipleChoice}\n          selected={selected}\n          themeColor={themeColor}\n        />\n        <View style={GlobalStyle.flex1}>\n          <Text style={optionTextStyle}>\n            {`${i18n.t('picture-choice:other')}`}\n          </Text>\n          <TextInput\n            style={inputStyle}\n            maxLength={100}\n            editable={selected}\n            placeholder={placeholder}\n            placeholderTextColor={Colors.sliderLabel}\n            underlineColorAndroid={Colors.transparent}\n            defaultValue={otherPicture.value}\n            onChangeText={onChangeText}\n          />\n        </View>\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nexport default PictureChoiceOtherItem;\n\nconst styles = StyleSheet.create({\n  optionContainer: {\n    flexDirection: 'row',\n    marginTop: 16,\n    minHeight: 20,\n  },\n  optionText: {\n    marginLeft: 5,\n    flex: 1,\n    fontSize: 16,\n  },\n  pictureSelected: {\n    height: 138,\n    borderRadius: 12,\n    borderWidth: 4,\n  },\n  input: {\n    marginLeft: 5,\n    marginTop: 5,\n    borderBottomWidth: 1,\n    minHeight: 28,\n    borderBottomColor: Colors.rankingContainerBorder,\n  },\n  nonSelectedOtherPictureContainer: {\n    height: 138,\n    borderWidth: 1,\n    borderRadius: 12,\n    borderStyle: 'dashed',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  placeholderGroup: {\n    alignItems: 'center',\n  },\n  placeholderText: {\n    marginTop: 8,\n    marginBottom: 8,\n    fontSize: 16,\n    textAlign: 'center',\n  },\n  chooseImageText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  optionalText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  pictureReloadContainer: {\n    height: 138,\n    borderRadius: 12,\n    borderWidth: 1,\n    borderColor: Colors.rankingBorder,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  reloadPlaceholderImage: {\n    marginBottom: 8,\n  },\n  reloadText: {\n    fontSize: 12,\n    marginLeft: 4,\n  },\n});\n"]}