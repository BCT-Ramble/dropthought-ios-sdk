{"version":3,"sources":["SliderDragRatingQuestion.tsx"],"names":["React","View","StyleSheet","Text","ImageBackground","Keyboard","TextInput","Image","ScrollView","MandatoryTitle","GlobalStyle","Colors","useTheme","COLOR_SCHEMES","sliderRatingAboveThumbFace","CustomSlider","isNil","ThumbComponent","isDark","thumbStyle","styles","thumb","shadowColor","backgroundColor","rankingCheckBoxBorder","white","thumbContentStyle","thumbContent","rankingBGDark","rankingContainerBorder","AboveThumbComponent","value","question","hasEdited","scale","stringScale","minScale","stringMinScale","maxScale","Number","face","containerStyle","transform","translateX","translateY","aboveThumbContainer","require","aboveThumbContent","aboveThumbText","SliderDragRatingQuestion","onFeedback","feedback","forgot","themeColor","colorScheme","fontColor","options","questionId","includeCenterLabel","includeCustomLabel","setValue","useState","valueInput","setInputValue","setHasEdited","focus","setFocus","total","middle","Math","round","dark","onFeedbackHandler","useCallback","submitValue","answers","type","getInitialSelectedValueFromFeedbackProps","prevAnswer","parseInt","useEffect","keyboardDidHideListener","addListener","remove","inputStyle","color","borderColor","rankingContainerBgDark","trackStyle","track","rankingBorder","activeMarkStyle","activeMark","opacity","hintTextStyle","hintText","textField","input","text","formatText","replace","toString","slider","inactiveMark","disappearMark","inputNumber","container","mandatoryTitle","contentContainer","questionContainer","sliderLabelContainer","flex1","flexEnd","sliderLabel","textAlignLeft","textAlignRight","length","dummyLabel","row","hintContainer","memo","create","alignSelf","flex","width","justifyContent","marginRight","marginLeft","marginBottom","marginHorizontal","flexDirection","fontSize","fontWeight","textAlign","height","borderWidth","paddingVertical","paddingLeft","borderRadius","sliderContainer","alignItems","paddingHorizontal","shadowOffset","shadowOpacity","shadowRadius","elevation","paddingTop","black","left"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  View,\n  StyleSheet,\n  Text,\n  ImageBackground,\n  Keyboard,\n  TextInput,\n  Image,\n  ScrollView,\n} from 'react-native';\nimport MandatoryTitle from './MandatoryTitle';\nimport GlobalStyle, { Colors } from '../styles';\n\nimport { useTheme, COLOR_SCHEMES } from '../contexts/theme';\nimport type {\n  Feedback as OriginFeedback,\n  Question as OriginQuestion,\n} from '../data';\nimport { sliderRatingAboveThumbFace } from '../constants/SliderDragQuestionConstants';\nimport CustomSlider from '../components/Slider';\nimport { isNil } from 'ramda';\n\ntype Feedback = OriginFeedback & {\n  answers: string[];\n};\n\ntype Question = OriginQuestion & {\n  options: string[];\n  scale: string;\n  minScale: string;\n  includeCenterLabel: boolean;\n  includeCustomLabel: boolean;\n};\n\ntype Props = {\n  question: Question;\n  onFeedback: ({\n    questionId,\n    answers,\n    type,\n  }: {\n    questionId: string;\n    answers: number[];\n    type: string;\n  }) => void;\n  feedback: Feedback;\n  forgot: boolean;\n  themeColor: string;\n};\n\ntype AboveThumbProps = {\n  value: number[];\n  question: Question;\n  hasEdited: boolean;\n};\n\ntype ThumbProps = {\n  isDark: boolean;\n};\n\nconst ThumbComponent = ({ isDark }: ThumbProps) => {\n  const thumbStyle = [\n    styles.thumb,\n    {\n      shadowColor: isDark ? '#000' : '#aaa',\n      backgroundColor: isDark ? Colors.rankingCheckBoxBorder : Colors.white,\n    },\n  ];\n  const thumbContentStyle = [\n    styles.thumbContent,\n    {\n      backgroundColor: isDark\n        ? Colors.rankingBGDark\n        : Colors.rankingContainerBorder,\n    },\n  ];\n  return (\n    <View style={thumbStyle}>\n      <View style={thumbContentStyle} />\n      <View style={thumbContentStyle} />\n      <View style={thumbContentStyle} />\n    </View>\n  );\n};\n\nconst AboveThumbComponent = ({\n  value,\n  question,\n  hasEdited,\n}: AboveThumbProps) => {\n  if (!hasEdited) {\n    return null;\n  }\n  const { scale: stringScale, minScale: stringMinScale } = question;\n  const maxScale = Number(stringScale);\n  const minScale = Number(stringMinScale);\n  const face = sliderRatingAboveThumbFace(minScale, value[0], maxScale);\n\n  const containerStyle = {\n    transform: [\n      {\n        translateX: -50,\n      },\n      {\n        translateY: 10,\n      },\n    ],\n  };\n  return (\n    <View style={containerStyle}>\n      <ImageBackground\n        style={styles.aboveThumbContainer}\n        source={require(// @ts-ignore\n        '../assets/ic_slider_above_thumb.png')}\n      >\n        <View style={styles.aboveThumbContent}>\n          <Image source={face} />\n          <Text style={styles.aboveThumbText}>{value}</Text>\n        </View>\n      </ImageBackground>\n    </View>\n  );\n};\n\nconst SliderDragRatingQuestion = ({\n  question,\n  onFeedback,\n  feedback,\n  forgot,\n  themeColor,\n}: Props) => {\n  const { colorScheme, fontColor } = useTheme();\n  const {\n    scale: stringScale,\n    options = [],\n    questionId,\n    minScale: stringMinScale,\n    includeCenterLabel,\n    includeCustomLabel,\n  } = question;\n  const maxScale = Number(stringScale);\n  const minScale = Number(stringMinScale);\n  const [value, setValue] = React.useState([minScale]);\n  const [valueInput, setInputValue] = React.useState<number | undefined>();\n  const [hasEdited, setHasEdited] = React.useState(false);\n  const [focus, setFocus] = React.useState(false);\n  const total = maxScale - minScale + 1;\n  const middle = Math.round((maxScale + minScale) / 2);\n  const isDark = colorScheme === COLOR_SCHEMES.dark;\n  const onFeedbackHandler = React.useCallback(() => {\n    setHasEdited(true);\n    setFocus(false);\n    let submitValue = valueInput || 0;\n    if (submitValue > maxScale) {\n      setValue([maxScale]);\n      setInputValue(maxScale);\n      submitValue = maxScale;\n    } else if (submitValue < minScale) {\n      setValue([minScale]);\n      setInputValue(minScale);\n      submitValue = minScale;\n    } else {\n      setValue([submitValue]);\n    }\n    onFeedback({\n      questionId: questionId,\n      answers: [submitValue - 1],\n      type: 'ratingSlider',\n    });\n  }, [valueInput, maxScale, minScale, onFeedback, questionId]);\n  const getInitialSelectedValueFromFeedbackProps = () => {\n    if (feedback && feedback.answers && !isNil(feedback.answers[0])) {\n      const { answers } = feedback;\n      const prevAnswer =\n        typeof answers[0] === 'string' ? parseInt(answers[0], 10) : answers[0];\n      setValue([prevAnswer + 1]);\n      setInputValue(prevAnswer + 1);\n      setHasEdited(true);\n    }\n  };\n  React.useEffect(() => {\n    getInitialSelectedValueFromFeedbackProps();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    const keyboardDidHideListener = Keyboard.addListener(\n      'keyboardDidHide',\n      () => {\n        if (focus) {\n          onFeedbackHandler();\n        }\n      }\n    );\n    return () => {\n      keyboardDidHideListener.remove();\n    };\n  }, [focus, onFeedbackHandler]);\n  const inputStyle = {\n    color: fontColor,\n    borderColor: isDark\n      ? Colors.rankingContainerBgDark\n      : Colors.rankingContainerBorder,\n  };\n  const trackStyle = {\n    ...styles.track,\n    backgroundColor: isDark\n      ? Colors.rankingContainerBgDark\n      : Colors.rankingBorder,\n  };\n  const activeMarkStyle = {\n    ...styles.activeMark,\n    opacity: isDark ? 0.3 : 1,\n  };\n  const hintTextStyle = [styles.hintText, { color: fontColor }];\n  const textField = (\n    <TextInput\n      style={[styles.input, inputStyle]}\n      onChangeText={(text) => {\n        const formatText = Number(text.replace(/[^0-9]/g, ''));\n        setInputValue(formatText);\n        setFocus(true);\n      }}\n      onFocus={() => setFocus(true)}\n      defaultValue=\"\"\n      value={valueInput?.toString()}\n      placeholder=\"--\"\n      placeholderTextColor={fontColor}\n      keyboardType=\"numeric\"\n    />\n  );\n  const slider = (\n    <CustomSlider\n      value={value[0]}\n      setValue={setValue}\n      trackMarks={total % 2 === 0 ? [middle - 0.5] : [middle]}\n      trackMarkStyles={{\n        inactiveMark: {},\n        activeMark: includeCenterLabel ? activeMarkStyle : styles.disappearMark,\n      }}\n      maximumValue={maxScale}\n      minimumValue={minScale}\n      step={1}\n      animateTransitions\n      minimumTrackTintColor={themeColor}\n      renderThumbComponent={() => <ThumbComponent isDark={isDark} />}\n      trackStyle={trackStyle}\n      renderAboveThumbComponent={() => (\n        <AboveThumbComponent\n          value={value}\n          question={question}\n          hasEdited={hasEdited}\n        />\n      )}\n      onSlidingStart={() => {\n        if (!hasEdited) {\n          setHasEdited(true);\n        }\n      }}\n      onCustomValueChange={() => {\n        setInputValue(value[0]);\n      }}\n      onSlidingComplete={(input) => {\n        const inputNumber = typeof input !== 'number' ? input[0] : 0;\n        setInputValue(inputNumber);\n        setFocus(false);\n        onFeedback({\n          questionId: questionId,\n          answers: [inputNumber - 1],\n          type: 'ratingSlider',\n        });\n      }}\n      animationType=\"timing\"\n    />\n  );\n  return (\n    <ScrollView contentContainerStyle={styles.container}>\n      <MandatoryTitle\n        forgot={forgot}\n        question={question}\n        style={styles.mandatoryTitle}\n      />\n      <View style={styles.contentContainer}>\n        <View style={styles.questionContainer}>\n          <View style={styles.sliderLabelContainer}>\n            <View style={[GlobalStyle.flex1, GlobalStyle.flexEnd]}>\n              <Text style={[styles.sliderLabel, GlobalStyle.textAlignLeft]}>\n                {includeCustomLabel ? options[0] : minScale}\n              </Text>\n            </View>\n            {includeCenterLabel ? (\n              <View style={[GlobalStyle.flex1, GlobalStyle.flexEnd]}>\n                <Text style={styles.sliderLabel}>\n                  {includeCustomLabel ? options[1] : middle}\n                </Text>\n              </View>\n            ) : null}\n            <View style={[GlobalStyle.flex1, GlobalStyle.flexEnd]}>\n              <Text style={[styles.sliderLabel, GlobalStyle.textAlignRight]}>\n                {includeCustomLabel ? options[options.length - 1] : maxScale}\n              </Text>\n            </View>\n            <View style={styles.dummyLabel} />\n          </View>\n          <View style={GlobalStyle.row}>\n            <View style={GlobalStyle.flex1}>{slider}</View>\n            {textField}\n          </View>\n        </View>\n      </View>\n      <View style={styles.hintContainer}>\n        <Text style={hintTextStyle}>{'Slide left or right to rate'}</Text>\n      </View>\n    </ScrollView>\n  );\n};\n\nexport default React.memo(SliderDragRatingQuestion);\n\nconst styles = StyleSheet.create({\n  container: {\n    alignSelf: 'center',\n    flex: 1,\n    width: '100%',\n  },\n  contentContainer: {\n    flex: 1,\n    width: '100%',\n    justifyContent: 'center',\n  },\n  questionContainer: {\n    marginRight: 35,\n    marginLeft: 45,\n    justifyContent: 'center',\n  },\n  mandatoryTitle: {\n    marginBottom: 50,\n    marginHorizontal: 16,\n  },\n  sliderLabelContainer: {\n    flexDirection: 'row',\n  },\n  sliderLabel: {\n    fontSize: 13,\n    fontWeight: '500',\n    color: Colors.sliderLabel,\n    textAlign: 'center',\n  },\n  dummyLabel: {\n    width: 48,\n    height: 10,\n    marginLeft: 26,\n  },\n  input: {\n    height: 32,\n    width: 48,\n    marginHorizontal: 12,\n    borderWidth: 1,\n    paddingVertical: 8,\n    paddingLeft: 12,\n    borderRadius: 4,\n    fontSize: 14,\n    fontWeight: '400',\n  },\n  sliderContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  track: {\n    borderRadius: 8,\n    height: 16,\n  },\n  thumb: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 12,\n    width: 40,\n    height: 32,\n    borderRadius: 12,\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.7,\n    shadowRadius: 1.5,\n    elevation: 4,\n  },\n  thumbContent: {\n    height: '100%',\n    width: 3,\n    borderRadius: 2,\n  },\n  aboveThumbContainer: {\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    paddingTop: 20,\n    width: 102,\n    height: 86,\n  },\n  aboveThumbContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    paddingHorizontal: 24,\n  },\n  aboveThumbText: {\n    fontSize: 16,\n    fontWeight: '400',\n    color: Colors.black,\n  },\n  disappearMark: {\n    width: 0,\n  },\n  activeMark: {\n    backgroundColor: Colors.rankingContainerBorder,\n    width: 2,\n    height: 10,\n    left: 40 / 2 - 2,\n  },\n  hintContainer: {\n    marginBottom: 27,\n    justifyContent: 'center',\n  },\n  hintText: {\n    fontSize: 16,\n    fontWeight: '500',\n    textAlign: 'center',\n    marginBottom: 6,\n  },\n});\n"]}