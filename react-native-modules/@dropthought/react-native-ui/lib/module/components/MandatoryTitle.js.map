{"version":3,"sources":["MandatoryTitle.tsx"],"names":["View","Text","StyleSheet","React","useAddMandatoryRef","GlobalStyle","Colors","QuestionWarningMessage","i18n","DimensionWidthType","useDimensionWidthType","useTheme","THEME_OPTION","MandatoryTitle","forgot","invalidMessage","mandatoryErrorMessage","question","style","rtl","dir","dimensionWidthType","fontColor","themeOption","customFontColor","questionId","questionTitle","mandatory","type","subType","optional","ref","useRef","addMandatoryRef","useEffect","current","color","isOption6Smiley","OPTION6","undefined","white","styles","horizontal","flexRowReverse","questionTitleSize","hint","create","phone","fontSize","tablet","mandatoryRed","flexDirection","flexWrap","justifyContent","marginBottom","fontWeight","textAlign"],"mappings":"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","sourcesContent":["import { View, Text, StyleSheet, ViewStyle } from 'react-native';\nimport * as React from 'react';\n\nimport { useAddMandatoryRef } from '../contexts/survey-page';\nimport GlobalStyle, { Colors } from '../styles';\nimport QuestionWarningMessage from './QuestionWarningMessage';\nimport i18n from '../translation';\nimport {\n  DimensionWidthType,\n  useDimensionWidthType,\n} from '../hooks/useWindowDimensions';\nimport { useTheme, THEME_OPTION } from '../contexts/theme';\nimport type { Question } from '../data';\n\ntype Props = {\n  forgot?: boolean;\n  invalidMessage?: string;\n  mandatoryErrorMessage: string;\n  question: Question;\n  style?: ViewStyle;\n};\n\nconst MandatoryTitle = ({\n  forgot,\n  invalidMessage = '',\n  mandatoryErrorMessage,\n  question,\n  style,\n}: Props) => {\n  const rtl = i18n.dir() === 'rtl';\n  const dimensionWidthType = useDimensionWidthType();\n  const { fontColor, themeOption, customFontColor } = useTheme();\n  const { questionId, questionTitle, mandatory, type, subType, optional } =\n    question;\n\n  const ref = React.useRef<View>(null);\n  const addMandatoryRef = useAddMandatoryRef();\n\n  React.useEffect(() => {\n    if (ref.current) {\n      addMandatoryRef(questionId, ref.current);\n    }\n  }, [addMandatoryRef, questionId]);\n\n  let color = fontColor;\n\n  const isOption6Smiley =\n    themeOption === THEME_OPTION.OPTION6 &&\n    type === 'rating' &&\n    subType === 'smiley';\n\n  if (\n    (customFontColor === undefined || customFontColor === '') &&\n    isOption6Smiley\n  ) {\n    color = Colors.white;\n  }\n\n  return (\n    <View\n      ref={ref}\n      style={[styles.horizontal, style, rtl && GlobalStyle.flexRowReverse]}\n    >\n      <Text\n        style={[\n          styles.questionTitle,\n          questionTitleSize[dimensionWidthType],\n          { color },\n        ]}\n      >\n        {questionTitle}\n        {\n          //optional was been used on matrix question\n          (mandatory || optional) && <Text style={styles.hint}>*</Text>\n        }\n      </Text>\n      <QuestionWarningMessage\n        // forgot message has higher priority than custom invalid message\n        message={forgot ? mandatoryErrorMessage : invalidMessage}\n      />\n    </View>\n  );\n};\n\nexport default MandatoryTitle;\n\nconst questionTitleSize = StyleSheet.create({\n  [DimensionWidthType.phone]: {\n    fontSize: 26,\n  },\n  [DimensionWidthType.tablet]: {\n    fontSize: 26,\n  },\n});\n\nconst styles = StyleSheet.create({\n  hint: {\n    color: Colors.mandatoryRed,\n    fontSize: 18,\n  },\n  horizontal: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    marginBottom: 24,\n  },\n  questionTitle: {\n    fontSize: 26,\n    fontWeight: '600',\n    textAlign: 'center',\n  },\n});\n"]}