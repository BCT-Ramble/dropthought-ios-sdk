{"version":3,"sources":["DropdownOtherOptionInput.tsx"],"names":["React","useRef","StyleSheet","TextInput","View","Text","GlobalStyle","Colors","addOpacityToColor","i18n","metadataTypeKeyboard","metadataTypeAutoCapitalize","MetadataDesc","useTheme","useFocus","onBlur","onFocus","isFocused","setIsFocused","useState","onFocusHandler","useCallback","onBlurHandler","DropdownOtherOptionInput","visible","question","placeholder","value","onChangeText","themeColor","rtl","dir","inputRef","fontColor","focusProps","inputTextColorStyle","color","inputTextBorderStyle","borderColor","borderWidth","backgroundColor","undefined","styles","textInputContainer","flexRowReverse","textInput","textAlignRight","inputPlaceholder","transparent","metaDataType","descText","textAlignLeft","length","create","height","marginTop","width","textAlign","textAlignVertical","borderRadius","rankingContainerBorder","paddingTop","paddingBottom","paddingHorizontal","openQuestionSubTitle"],"mappings":"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","sourcesContent":["import React, { useRef } from 'react';\nimport { StyleSheet, TextInput, View, Text } from 'react-native';\n\nimport GlobalStyle, { Colors, addOpacityToColor } from '../styles';\nimport i18n from '../translation';\nimport {\n  metadataTypeKeyboard,\n  metadataTypeAutoCapitalize,\n} from './MultiLineTextInput/MultiLineTextInput';\nimport MetadataDesc from './MetadataDesc';\nimport type { Question } from '../data';\nimport { useTheme } from '../contexts/theme';\n\ntype Props = {\n  visible: boolean;\n  question: Question;\n  placeholder: string;\n  value: string;\n  onChangeText: (text: string) => void;\n  themeColor: string;\n};\n\nconst useFocus = (onBlur: () => void, onFocus: () => void) => {\n  const [isFocused, setIsFocused] = React.useState(false);\n  const onFocusHandler = React.useCallback(() => {\n    onFocus && onFocus();\n    setIsFocused(true);\n  }, [onFocus]);\n  const onBlurHandler = React.useCallback(() => {\n    onBlur && onBlur();\n    setIsFocused(false);\n  }, [onBlur]);\n  return {\n    isFocused,\n    onFocus: onFocusHandler,\n    onBlur: onBlurHandler,\n  };\n};\n\nconst DropdownOtherOptionInput: React.FC<Props> = ({\n  visible,\n  question,\n  placeholder,\n  value,\n  onChangeText,\n  themeColor,\n}) => {\n  const rtl = i18n.dir() === 'rtl';\n  const inputRef = useRef(null);\n  const { fontColor } = useTheme();\n\n  const onFocusHandler = () => {};\n  const onBlurHandler = () => {};\n  const { isFocused, ...focusProps } = useFocus(onBlurHandler, onFocusHandler);\n  const inputTextColorStyle = { color: fontColor };\n  const inputTextBorderStyle = isFocused\n    ? {\n        borderColor: themeColor,\n        borderWidth: 1,\n        backgroundColor: addOpacityToColor(themeColor, 0.05),\n      }\n    : undefined;\n\n  if (!visible) return null;\n  return (\n    <>\n      <MetadataDesc question={question} rtl={rtl} />\n      <View\n        style={[styles.textInputContainer, rtl && GlobalStyle.flexRowReverse]}\n      >\n        <TextInput\n          ref={inputRef}\n          style={[\n            styles.textInput,\n            rtl && GlobalStyle.textAlignRight,\n            inputTextBorderStyle,\n            inputTextColorStyle,\n          ]}\n          placeholder={placeholder}\n          placeholderTextColor={Colors.inputPlaceholder}\n          multiline\n          onChangeText={onChangeText}\n          underlineColorAndroid={Colors.transparent}\n          selectionColor={themeColor}\n          value={value}\n          maxLength={100}\n          keyboardType={metadataTypeKeyboard(question.metaDataType)}\n          autoCapitalize={metadataTypeAutoCapitalize(question.metaDataType)}\n          {...focusProps}\n        />\n      </View>\n      <Text style={[styles.descText, rtl && GlobalStyle.textAlignLeft]}>\n        {value.length}/100\n      </Text>\n    </>\n  );\n};\n\nconst styles = StyleSheet.create({\n  textInputContainer: {\n    height: 80,\n    marginTop: 10,\n  },\n  textInput: {\n    width: '100%',\n    height: '100%',\n    textAlign: 'left',\n    textAlignVertical: 'top',\n    borderWidth: 1,\n    borderRadius: 6,\n    borderColor: Colors.rankingContainerBorder,\n    paddingTop: 16,\n    paddingBottom: 16,\n    paddingHorizontal: 12,\n  },\n  descText: {\n    color: Colors.openQuestionSubTitle,\n    textAlign: 'right',\n    width: '100%',\n    marginTop: 6,\n  },\n});\n\nexport default DropdownOtherOptionInput;\n"]}