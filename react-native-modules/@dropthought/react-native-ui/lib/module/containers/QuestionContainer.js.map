{"version":3,"sources":["QuestionContainer.tsx"],"names":["React","View","mandatoryQuestionValidator","useFeedbackByQid","useFeedbackDispatch","updateFeedback","SmileyRatingQuestionOption1","SmileyRatingQuestionOption2","SmileyRatingQuestionOption3","SmileyRatingQuestionOption4","SmileyRatingQuestionOption6","RankingQuestion","SingleChoiceQuestion","MultiChoiceQuestion","SliderRatingQuestion","OpenQuestion","IconRatingQuestion","SliderDragRatingQuestion","DropdownQuestion","MatrixRatingQuestion","MatrixChoiceQuestion","MultipleOpenEndedQuestion","PictureChoiceQuestion","MandatoryTitle","GlobalStyle","TempComponent","mandatoryErrorMessage","question","forgot","questionContainer","QuestionContainer","props","onFeedback","propsOnFeedback","validationStarted","themeOption","QuestionComponent","feedback","questionId","feedbackDispatch","onFeedbackHandler","useCallback","updatedFeedback","type","subType"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { View } from 'react-native';\nimport { mandatoryQuestionValidator } from '../utils/data';\n\nimport {\n  useFeedbackByQid,\n  useFeedbackDispatch,\n  updateFeedback,\n} from '../contexts/feedback';\nimport SmileyRatingQuestionOption1 from '../components/SmileyRatingQuestionOption1';\nimport SmileyRatingQuestionOption2 from '../components/SmileyRatingQuestionOption2';\nimport SmileyRatingQuestionOption3 from '../components/SmileyRatingQuestionOption3';\nimport SmileyRatingQuestionOption4 from '../components/SmileyRatingQuestionOption4';\nimport SmileyRatingQuestionOption6 from '../components/SmileyRatingQuestionOption6';\nimport RankingQuestion from '../components/RankingQuestion';\nimport SingleChoiceQuestion from '../components/SingleChoiceQuestion';\nimport MultiChoiceQuestion from '../components/MultiChoiceQuestion';\nimport SliderRatingQuestion from '../components/SliderRatingQuestion';\nimport OpenQuestion from '../components/OpenQuestion';\nimport IconRatingQuestion from '../components/IconRatingQuestion';\nimport SliderDragRatingQuestion from '../components/SliderDragRatingQuestion';\nimport DropdownQuestion from '../components/DropdownQuestion';\nimport MatrixRatingQuestion from '../components/MatrixRatingQuestion';\nimport MatrixChoiceQuestion from '../components/MatrixChoiceQuestion';\nimport MultipleOpenEndedQuestion from '../components/MultipleOpenEndedQuestion';\nimport PictureChoiceQuestion from '../components/PictureChoiceQuestion';\nimport MandatoryTitle from '../components/MandatoryTitle';\nimport GlobalStyle from '../styles';\n\nimport type { Question, Feedback, Survey, ImageFileProps } from '../data';\nimport type { THEME_OPTION } from '../contexts/theme';\n\nconst TempComponent = ({\n  mandatoryErrorMessage,\n  question,\n  forgot,\n}: {\n  mandatoryErrorMessage: string;\n  question: Question;\n  forgot: boolean;\n}) => {\n  return (\n    <View style={GlobalStyle.questionContainer}>\n      <MandatoryTitle\n        question={question}\n        mandatoryErrorMessage={mandatoryErrorMessage}\n        forgot={forgot}\n      />\n    </View>\n  );\n};\n\ntype Props = {\n  anonymous: boolean;\n  question: Question;\n  validationStarted: boolean;\n  themeColor: string;\n  onClose: () => void;\n  onPrevPage: () => void;\n  onNextPage: () => void;\n  onFeedback?: (feedback: Feedback) => void;\n  onUpload?: (file: ImageFileProps) => void;\n  isUploading?: boolean;\n  survey: Survey;\n  pageIndex: number;\n  themeOption: THEME_OPTION;\n  preview: boolean;\n};\n\nconst QuestionContainer = (props: Props) => {\n  const { onFeedback: propsOnFeedback, validationStarted, themeOption } = props;\n\n  let QuestionComponent = TempComponent;\n\n  // get/update feedback to context\n  const feedback = useFeedbackByQid(props.question.questionId);\n  const feedbackDispatch = useFeedbackDispatch();\n  const onFeedbackHandler = React.useCallback(\n    (updatedFeedback) => {\n      updateFeedback(feedbackDispatch, updatedFeedback);\n      // @ts-ignore\n      propsOnFeedback && propsOnFeedback(updateFeedback);\n    },\n    [feedbackDispatch, propsOnFeedback]\n  );\n\n  // whether to display the forgot warning message\n  const forgot =\n    validationStarted && !mandatoryQuestionValidator(props.question, feedback);\n\n  switch (props.question.type) {\n    case 'singleChoice':\n      // @ts-ignore\n      QuestionComponent = SingleChoiceQuestion;\n      break;\n    case 'multiChoice':\n      // @ts-ignore\n      QuestionComponent = MultiChoiceQuestion;\n      break;\n    case 'rating':\n      if (props.question.subType === 'smiley') {\n        switch (themeOption) {\n          case 'option1':\n            // @ts-ignore\n            QuestionComponent = SmileyRatingQuestionOption1;\n            break;\n          case 'option2':\n            // @ts-ignore\n            QuestionComponent = SmileyRatingQuestionOption2;\n            break;\n          case 'option3':\n            // @ts-ignore\n            QuestionComponent = SmileyRatingQuestionOption3;\n            break;\n          case 'option4':\n            // @ts-ignore\n            QuestionComponent = SmileyRatingQuestionOption4;\n            break;\n          case 'option6':\n            // @ts-ignore\n            QuestionComponent = SmileyRatingQuestionOption6;\n            break;\n          default:\n            // @ts-ignore\n            QuestionComponent = SmileyRatingQuestionOption1;\n        }\n      } else if (props.question.subType === 'slider') {\n        // @ts-ignore\n        QuestionComponent = SliderRatingQuestion;\n      } else {\n        // @ts-ignore\n        QuestionComponent = IconRatingQuestion;\n      }\n      break;\n    case 'nps':\n      // @ts-ignore\n      QuestionComponent = SliderRatingQuestion;\n      break;\n    case 'open':\n      // @ts-ignore\n      QuestionComponent = OpenQuestion;\n      break;\n    case 'ranking':\n      // @ts-ignore\n      QuestionComponent = RankingQuestion;\n      break;\n    case 'ratingSlider':\n      // @ts-ignore\n      QuestionComponent = SliderDragRatingQuestion;\n      break;\n    case 'dropdown':\n      // @ts-ignore\n      QuestionComponent = DropdownQuestion;\n      break;\n    case 'matrixRating':\n      // @ts-ignore\n      QuestionComponent = MatrixRatingQuestion;\n      break;\n    case 'matrixChoice':\n      // @ts-ignore\n      QuestionComponent = MatrixChoiceQuestion;\n      break;\n    case 'multipleOpenEnded':\n      // @ts-ignore\n      QuestionComponent = MultipleOpenEndedQuestion;\n      break;\n    case 'pictureChoice':\n      // @ts-ignore\n      QuestionComponent = PictureChoiceQuestion;\n      break;\n    default:\n      QuestionComponent = TempComponent;\n  }\n\n  return (\n    <QuestionComponent\n      {...props}\n      // @ts-ignore\n      feedback={feedback}\n      onFeedback={onFeedbackHandler}\n      forgot={forgot}\n    />\n  );\n};\n\nexport default QuestionContainer;\n"]}