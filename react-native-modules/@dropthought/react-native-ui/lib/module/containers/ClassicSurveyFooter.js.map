{"version":3,"sources":["ClassicSurveyFooter.tsx"],"names":["React","StyleSheet","View","DimensionWidthType","useDimensionWidthType","Button","GlobalStyle","i18n","useTheme","DummyButton","width","ClassicSurveyFooter","props","hexCode","dimensionWidthType","rtl","dir","survey","pageIndex","onPrevPage","onNextPage","lastPage","pageOrder","length","LeftButtonComponent","themeColor","btnWidth","phone","submitDisabled","setSubmitDisabled","useState","styles","container","flexRowReverse","backPage","leftBtnContainer","submitSurvey","setTimeout","rightBtnContainer","nextPage","create","flex","row","justifyContent","marginVertical","memo"],"mappings":"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","sourcesContent":["/**\n * @description a extension UI/UX component of SurveyScreenLayout\n * it displays three buttons:\n *  - Back, displayed when page is > 0\n *  - Next, displayed when page is not end\n *  - Submit, displayed when page is the last page\n * When \"Back\" is pressed, call props.onPrevPage\n * When \"Next\" or \"Submit\" is pressed, call props.onNextPage\n */\nimport * as React from 'react';\nimport { StyleSheet, View } from 'react-native';\n\nimport {\n  DimensionWidthType,\n  useDimensionWidthType,\n} from '../hooks/useWindowDimensions';\nimport Button from '../components/Button';\nimport { GlobalStyle } from '../styles';\nimport i18n from '../translation';\nimport type { Survey } from '../data';\nimport { useTheme } from '../contexts/theme';\n\nconst DummyButton = ({ width }: { width: number }) => (\n  <View style={{ width }} />\n);\n\ntype Props = {\n  survey: Survey;\n  pageIndex: number;\n  onPrevPage: () => void;\n  onNextPage: () => void;\n};\n\nconst ClassicSurveyFooter = (props: Props) => {\n  const { hexCode } = useTheme();\n  const dimensionWidthType = useDimensionWidthType();\n  const rtl = i18n.dir() === 'rtl';\n  const { survey, pageIndex = 0, onPrevPage, onNextPage } = props;\n\n  const lastPage = pageIndex === survey.pageOrder.length - 1;\n\n  // why use a dummy button here? we use 'space-between' to layout the buttons\n  let LeftButtonComponent = Button;\n  if (!pageIndex || pageIndex <= 0) {\n    // @ts-ignore\n    LeftButtonComponent = DummyButton;\n  }\n\n  const themeColor = hexCode;\n  const btnWidth = dimensionWidthType === DimensionWidthType.phone ? 76 : 100;\n\n  const [submitDisabled, setSubmitDisabled] = React.useState(false);\n\n  return (\n    <View style={[styles.container, rtl && GlobalStyle.flexRowReverse]}>\n      <LeftButtonComponent\n        width={btnWidth}\n        title={survey.backPage}\n        color={themeColor}\n        onPress={onPrevPage}\n        // @ts-ignore\n        containerStyle={styles.leftBtnContainer}\n      />\n      {lastPage ? (\n        <Button\n          disabled={submitDisabled}\n          width={btnWidth}\n          title={survey.submitSurvey}\n          color={themeColor}\n          onPress={() => {\n            setSubmitDisabled(true);\n            setTimeout(() => setSubmitDisabled(false), 1000);\n            onNextPage();\n          }}\n          // @ts-ignore\n          containerStyle={styles.rightBtnContainer}\n        />\n      ) : (\n        <Button\n          width={btnWidth}\n          title={survey.nextPage}\n          color={themeColor}\n          onPress={onNextPage}\n          // @ts-ignore\n          containerStyle={styles.rightBtnContainer}\n        />\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    ...GlobalStyle.row,\n    justifyContent: 'space-between',\n    marginVertical: 30,\n  },\n});\n\nexport default React.memo(ClassicSurveyFooter);\n"]}