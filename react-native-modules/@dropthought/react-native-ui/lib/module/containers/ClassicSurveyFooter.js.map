{"version":3,"sources":["ClassicSurveyFooter.tsx"],"names":["React","StyleSheet","View","DimensionWidthType","useDimensionWidthType","Button","GlobalStyle","i18n","DummyButton","width","ClassicSurveyFooter","props","dimensionWidthType","rtl","dir","survey","pageIndex","onPrevPage","onNextPage","lastPage","pageOrder","length","LeftButtonComponent","themeColor","surveyProperty","hexCode","btnWidth","phone","submitDisabled","setSubmitDisabled","useState","styles","container","flexRowReverse","t","leftBtnContainer","setTimeout","rightBtnContainer","create","flex","row","justifyContent","marginVertical","memo"],"mappings":"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","sourcesContent":["/**\n * @description a extension UI/UX component of SurveyScreenLayout\n * it displays three buttons:\n *  - Back, displayed when page is > 0\n *  - Next, displayed when page is not end\n *  - Submit, displayed when page is the last page\n * When \"Back\" is pressed, call props.onPrevPage\n * When \"Next\" or \"Submit\" is pressed, call props.onNextPage\n */\nimport * as React from 'react';\nimport { StyleSheet, View } from 'react-native';\n\nimport {\n  DimensionWidthType,\n  useDimensionWidthType,\n} from '../hooks/useWindowDimensions';\nimport Button from '../components/Button';\nimport { GlobalStyle } from '../styles';\nimport i18n from '../translation';\nimport type { Survey } from '../data';\n\nconst DummyButton = ({ width }: { width: number }) => (\n  <View style={{ width }} />\n);\n\ntype Props = {\n  survey: Survey;\n  pageIndex: number;\n  onPrevPage: () => void;\n  onNextPage: () => void;\n};\n\nconst ClassicSurveyFooter = (props: Props) => {\n  const dimensionWidthType = useDimensionWidthType();\n  const rtl = i18n.dir() === 'rtl';\n  const { survey, pageIndex = 0, onPrevPage, onNextPage } = props;\n\n  const lastPage = pageIndex === survey.pageOrder.length - 1;\n\n  // why use a dummy button here? we use 'space-between' to layout the buttons\n  let LeftButtonComponent = Button;\n  if (!pageIndex || pageIndex <= 0) {\n    // @ts-ignore\n    LeftButtonComponent = DummyButton;\n  }\n\n  const themeColor = props.survey.surveyProperty.hexCode;\n  const btnWidth = dimensionWidthType === DimensionWidthType.phone ? 76 : 100;\n\n  const [submitDisabled, setSubmitDisabled] = React.useState(false);\n\n  return (\n    <View style={[styles.container, rtl && GlobalStyle.flexRowReverse]}>\n      <LeftButtonComponent\n        width={btnWidth}\n        title={i18n.t('survey:survey-back')}\n        color={themeColor}\n        onPress={onPrevPage}\n        // @ts-ignore\n        containerStyle={styles.leftBtnContainer}\n      />\n      {lastPage ? (\n        <Button\n          disabled={submitDisabled}\n          width={btnWidth}\n          title={i18n.t('survey:survey-submit')}\n          color={themeColor}\n          onPress={() => {\n            setSubmitDisabled(true);\n            setTimeout(() => setSubmitDisabled(false), 1000);\n            onNextPage();\n          }}\n          // @ts-ignore\n          containerStyle={styles.rightBtnContainer}\n        />\n      ) : (\n        <Button\n          width={btnWidth}\n          title={i18n.t('survey:survey-next')}\n          color={themeColor}\n          onPress={onNextPage}\n          // @ts-ignore\n          containerStyle={styles.rightBtnContainer}\n        />\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    ...GlobalStyle.row,\n    justifyContent: 'space-between',\n    marginVertical: 30,\n  },\n});\n\nexport default React.memo(ClassicSurveyFooter);\n"]}