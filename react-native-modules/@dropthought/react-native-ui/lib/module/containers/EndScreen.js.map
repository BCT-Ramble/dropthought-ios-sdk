{"version":3,"sources":["EndScreen.tsx"],"names":["React","useEffect","useState","View","Text","Image","StyleSheet","TouchableOpacity","Colors","GlobalStyle","i18n","useTheme","COLOR_SCHEMES","useSafeAreaInsets","DimensionWidthType","useDimensionWidthType","logoSource","light","require","dark","defaultIconSource","defaultIconSize","phone","tablet","EndScreen","survey","onClose","insets","hexCode","colorScheme","fontColor","backgroundColor","rtl","dir","dimensionWidthType","surveyProperty","thankYouTextPlain","image","imageHeight","setImageHeight","iconStyle","width","height","getSize","_","iconSource","undefined","uri","iconView","row","powerByStyle","styles","power_by","color","powerByBoldStyle","power_by_bold","containerStyle","headerContainer","paddingTop","top","flexRowReverse","titleStyle","headerTitle","headerIconStyle","tintColor","container","headerRowContainer","closeButton","surveyName","main","subtitle","vertical","horizontal","dtLogo","create","white","flex","alignItems","justifyContent","paddingHorizontal","title","lineHeight","marginTop","fontSize","opacity","fontWeight","textAlign","paddingBottom","flexDirection","marginBottom","paddingVertical","marginLeft","marginRight","flexGrow"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, Text, Image, StyleSheet, TouchableOpacity } from 'react-native';\n\nimport { Colors, GlobalStyle } from '../styles';\nimport i18n from '../translation';\nimport { useTheme, COLOR_SCHEMES } from '../contexts/theme';\nimport type { Survey } from '../data';\n// @ts-ignore\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport {\n  DimensionWidthType,\n  useDimensionWidthType,\n} from '../hooks/useWindowDimensions';\n\nconst logoSource = {\n  [COLOR_SCHEMES.light]: require('../assets/ic_dtlogo.png'),\n  [COLOR_SCHEMES.dark]: require('../assets/ic_dtlogo_dark.png'),\n};\n\ntype Props = {\n  survey: Survey;\n  onClose: () => void;\n};\n\nconst defaultIconSource = require('../assets/rating.png');\nconst defaultIconSize = {\n  [DimensionWidthType.phone]: 65,\n  [DimensionWidthType.tablet]: 72,\n};\n\nconst EndScreen = ({ survey, onClose }: Props) => {\n  const insets = useSafeAreaInsets();\n  const { hexCode, colorScheme, fontColor, backgroundColor } = useTheme();\n  const rtl = i18n.dir() === 'rtl';\n  const dimensionWidthType = useDimensionWidthType();\n\n  const { surveyProperty, thankYouTextPlain } = survey;\n  const { image } = surveyProperty;\n  const [imageHeight, setImageHeight] = useState(65);\n  const iconStyle = {\n    width: '100%',\n    height: imageHeight,\n  };\n\n  useEffect(() => {\n    Image.getSize(\n      image,\n      (_, height) => {\n        if (height < defaultIconSize[dimensionWidthType]) {\n          setImageHeight(height);\n        }\n      },\n      (_) => {}\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const iconSource = image === undefined ? defaultIconSource : { uri: image };\n\n  const iconView = (\n    <View style={GlobalStyle.row}>\n      <Image resizeMode=\"contain\" style={iconStyle} source={iconSource} />\n    </View>\n  );\n\n  const powerByStyle = [styles.power_by, { color: fontColor }];\n  const powerByBoldStyle = [styles.power_by_bold, { color: fontColor }];\n\n  const containerStyle = [\n    styles.headerContainer,\n    { paddingTop: insets.top },\n    rtl && GlobalStyle.flexRowReverse,\n    {\n      backgroundColor,\n    },\n  ];\n  const titleStyle = [styles.headerTitle, { color: fontColor }];\n  const headerIconStyle = { tintColor: hexCode };\n  return (\n    <View style={[styles.container, { backgroundColor }]}>\n      <View style={containerStyle}>\n        <View style={styles.headerRowContainer}>\n          <TouchableOpacity style={styles.closeButton} onPress={onClose}>\n            <Image\n              style={headerIconStyle}\n              source={require('../assets/icClose24Px.png')}\n            />\n          </TouchableOpacity>\n          <Text style={titleStyle} numberOfLines={1}>\n            {survey.surveyName}\n          </Text>\n        </View>\n      </View>\n      <View style={styles.main}>\n        {iconView}\n        <Text style={[styles.subtitle, { color: fontColor }]}>\n          {thankYouTextPlain}\n        </Text>\n      </View>\n      <View style={styles.vertical}>\n        <View style={styles.horizontal}>\n          <Text style={powerByStyle}>Powered by </Text>\n          {/* @ts-ignore */}\n          <Image style={styles.dtLogo} source={logoSource[colorScheme]} />\n        </View>\n        <Text style={powerByBoldStyle}>dropthought</Text>\n      </View>\n    </View>\n  );\n};\n\nexport default EndScreen;\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: Colors.white,\n    flex: 1,\n    alignItems: 'center',\n  },\n  main: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingHorizontal: 38,\n  },\n  title: {\n    lineHeight: 27,\n    marginTop: 44,\n    fontSize: 22,\n    opacity: 0.8,\n    fontWeight: '500',\n  },\n  subtitle: {\n    marginTop: 17,\n    fontSize: 19,\n    textAlign: 'center',\n    opacity: 0.72,\n    paddingBottom: 10,\n  },\n  vertical: {\n    alignItems: 'center',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    marginBottom: 83,\n  },\n  horizontal: {\n    alignItems: 'center',\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  power_by: {\n    fontSize: 12,\n  },\n  power_by_bold: {\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  dtLogo: {\n    height: 24,\n    width: 24,\n  },\n  headerContainer: {\n    width: '100%',\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n  },\n  headerRowContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    height: 25,\n    marginTop: 17,\n  },\n  closeButton: {\n    width: 25,\n    height: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  headerTitle: {\n    fontSize: 17,\n    fontWeight: '600',\n    marginLeft: 10,\n    marginRight: 30,\n    textAlign: 'center',\n    flexGrow: 1,\n  },\n});\n"]}