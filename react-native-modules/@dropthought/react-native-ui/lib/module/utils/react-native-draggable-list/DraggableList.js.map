{"version":3,"sources":["DraggableList.tsx"],"names":["React","useCallback","useEffect","useRef","useState","StyleSheet","View","Animated","DraggableItem","moveElement","array","from","to","result","element","splice","DraggableList","data","renderItem","onDragEnd","backupListRef","tempListRef","draggingIndexRef","newIndexRef","forceReset","setForceReset","setHelpToRerender","heightLevelRef","undefined","forEach","item","backupItem","current","find","backupData","index","calculateMovements","movements","rowHeight","calculateHeightLevel","localHeightLevel","Number","MIN_SAFE_INTEGER","i","length","iRowHeight","level","Math","floor","j","jRowHeight","MAX_SAFE_INTEGER","calculateReleaseDragMovements","localIndex","calculatePositionChange","currentY","prev","onDragHandler","y","listIndex","onDragEndHandler","pan","spring","toValue","x","useNativeDriver","speed","start","newList","setTimeout","onLayoutHandler","event","height","nativeEvent","layout","parseInt","styles","questionContainer","map","JSON","stringify","toString","memo","create","width"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { StyleSheet, View, Animated, LayoutChangeEvent } from 'react-native';\nimport DraggableItem from './DraggableItem';\n\nexport type TransformedOption = {\n  option: string;\n  index: number;\n  isNA: boolean;\n  rowHeight?: number;\n};\n\nfunction moveElement<ItemT>(\n  array: ReadonlyArray<ItemT>,\n  from: number,\n  to: number\n) {\n  const result = [...array];\n  if (from !== to) {\n    const element = result.splice(from, 1)[0];\n    result.splice(to, 0, element);\n  }\n  return result;\n}\n\ntype DraggableListRenderItemInfo = {\n  item: TransformedOption;\n  index: number;\n};\n\nexport type DraggableListRenderItem = (\n  info: DraggableListRenderItemInfo\n) => React.ReactElement | null;\n\ntype DraggableListProps = {\n  data: ReadonlyArray<TransformedOption>;\n  renderItem: DraggableListRenderItem;\n  onDragEnd: (newList: TransformedOption[]) => void;\n};\n\nfunction DraggableList({ data, renderItem, onDragEnd }: DraggableListProps) {\n  const backupListRef = useRef([...data]);\n  const tempListRef = useRef([...data]);\n\n  const draggingIndexRef = useRef(-1);\n  const newIndexRef = useRef(-1);\n\n  const [forceReset, setForceReset] = useState(false);\n\n  const setHelpToRerender = useState(false)[1];\n  const heightLevelRef = useRef<number[] | undefined>(undefined);\n\n  useEffect(() => {\n    let result: TransformedOption[] = [];\n    data.forEach((item) => {\n      const backupItem = backupListRef.current.find(\n        (backupData) => backupData.index === item.index\n      );\n      if (backupItem) {\n        result = [...result, backupItem];\n      }\n    });\n    tempListRef.current = result ? result : [...data];\n    heightLevelRef.current = undefined;\n  }, [data]);\n\n  const calculateMovements = useCallback((index: number) => {\n    let result = 0;\n    if (newIndexRef.current < 0 || draggingIndexRef.current < 0) {\n      return result;\n    }\n\n    if (newIndexRef.current === draggingIndexRef.current) {\n      return result;\n    } else {\n      const movements =\n        tempListRef.current[draggingIndexRef.current].rowHeight ?? 0;\n      if (newIndexRef.current > draggingIndexRef.current) {\n        result =\n          index > draggingIndexRef.current && index <= newIndexRef.current\n            ? -movements\n            : 0;\n      } else {\n        result =\n          index < draggingIndexRef.current && index >= newIndexRef.current\n            ? movements\n            : 0;\n      }\n      return result;\n    }\n  }, []);\n\n  const calculateHeightLevel = useCallback(() => {\n    if (!heightLevelRef.current) {\n      let localHeightLevel: number[] = [Number.MIN_SAFE_INTEGER];\n      for (let i = 0; i < tempListRef.current.length; i++) {\n        const iRowHeight = tempListRef.current[i].rowHeight;\n        if (iRowHeight) {\n          let level = 0;\n          if (i < draggingIndexRef.current) {\n            level = Math.floor(iRowHeight / 2);\n            for (let j = i + 1; j < draggingIndexRef.current; j++) {\n              const jRowHeight = tempListRef.current[j].rowHeight;\n              if (jRowHeight) {\n                level = level + jRowHeight;\n              }\n            }\n            localHeightLevel = [...localHeightLevel, -level];\n          } else if (i > draggingIndexRef.current) {\n            for (let j = draggingIndexRef.current + 1; j < i; j++) {\n              const jRowHeight = tempListRef.current[j].rowHeight;\n              if (jRowHeight) {\n                level = level + jRowHeight;\n              }\n            }\n            level = level + Math.floor(iRowHeight / 2);\n            localHeightLevel = [...localHeightLevel, level];\n          }\n        }\n      }\n      localHeightLevel = [...localHeightLevel, Number.MAX_SAFE_INTEGER];\n      heightLevelRef.current = localHeightLevel;\n    }\n  }, []);\n\n  const calculateReleaseDragMovements = useCallback(() => {\n    let movements = 0;\n\n    tempListRef.current.forEach((item, localIndex) => {\n      if (item.rowHeight) {\n        if (newIndexRef.current > draggingIndexRef.current) {\n          if (\n            localIndex > draggingIndexRef.current &&\n            localIndex <= newIndexRef.current\n          ) {\n            movements += item.rowHeight;\n          }\n        } else if (newIndexRef.current < draggingIndexRef.current) {\n          if (\n            localIndex < draggingIndexRef.current &&\n            localIndex >= newIndexRef.current\n          ) {\n            movements -= item.rowHeight;\n          }\n        }\n      }\n    });\n    return movements;\n  }, []);\n\n  const calculatePositionChange = useCallback(\n    (currentY: number) => {\n      if (heightLevelRef.current) {\n        for (let i = 0; i < heightLevelRef.current.length; i++) {\n          if (\n            currentY >= heightLevelRef.current[i] &&\n            currentY < heightLevelRef.current[i + 1]\n          ) {\n            if (newIndexRef.current !== i) {\n              newIndexRef.current = i;\n              // Note: Call setHelpToRerender to trigger rerender. Without calling setHelpToRerender other item will not shift while dragging.\n              setHelpToRerender((prev) => !prev);\n            }\n          }\n        }\n      }\n    },\n    [setHelpToRerender]\n  );\n\n  const onDragHandler = useCallback(\n    (y: number, listIndex: number) => {\n      draggingIndexRef.current = listIndex;\n      calculateHeightLevel();\n      calculatePositionChange(y);\n    },\n    [calculateHeightLevel, calculatePositionChange]\n  );\n\n  const onDragEndHandler = useCallback(\n    (pan: Animated.ValueXY, listIndex: number) => {\n      const movements = calculateReleaseDragMovements();\n\n      if (movements !== 0) {\n        Animated.spring(pan, {\n          toValue: { x: 0, y: movements },\n          useNativeDriver: true,\n          speed: Number.MAX_SAFE_INTEGER,\n        }).start(() => {\n          const newList = moveElement(\n            tempListRef.current,\n            listIndex,\n            newIndexRef.current\n          );\n          newIndexRef.current = -1;\n          draggingIndexRef.current = -1;\n          setForceReset(true);\n          onDragEnd(newList);\n          tempListRef.current = newList;\n          setTimeout(() => {\n            setForceReset(false);\n            heightLevelRef.current = undefined;\n          }, 0);\n        });\n      }\n    },\n    [calculateReleaseDragMovements, onDragEnd]\n  );\n\n  const onLayoutHandler = useCallback(\n    (event: LayoutChangeEvent, listIndex: number) => {\n      var { height } = event.nativeEvent.layout;\n      tempListRef.current[listIndex] = {\n        ...tempListRef.current[listIndex],\n        rowHeight: parseInt(`${height}`, 10),\n      };\n      if (!backupListRef.current[listIndex].rowHeight) {\n        backupListRef.current[listIndex] = {\n          ...tempListRef.current[listIndex],\n          rowHeight: parseInt(`${height}`, 10),\n        };\n      }\n    },\n    []\n  );\n\n  return (\n    <View style={styles.questionContainer}>\n      {data.map((item, index) => {\n        return (\n          <DraggableItem\n            index={index}\n            onDrag={(y) => onDragHandler(y, index)}\n            onDragEnd={(pan) => onDragEndHandler(pan, index)}\n            onLayout={(event) => onLayoutHandler(event, index)}\n            forceReset={forceReset}\n            movements={calculateMovements(index)}\n            key={JSON.stringify(item) + index.toString()}\n          >\n            {renderItem({ item, index })}\n          </DraggableItem>\n        );\n      })}\n    </View>\n  );\n}\n\nexport default React.memo(DraggableList);\n\nconst styles = StyleSheet.create({\n  questionContainer: {\n    width: '100%',\n  },\n});\n"]}