{"version":3,"sources":["ClassicStartScreen.tsx"],"names":["defaultIconSource","require","defaultIconSize","DimensionWidthType","phone","tablet","ClassicStartScreen","onLanguageSelect","onStart","survey","dimensionWidthType","themeOption","hexCode","fontColor","backgroundColor","isPhone","styles","phoneStyles","tabletStyles","surveyProperty","surveyName","welcomeTextPlain","language","takeSurvey","image","imageHeight","setImageHeight","iconStyle","width","height","Image","getSize","_","iconSource","undefined","uri","iconView","buttonWidth","languagesView","languages","length","languageView","map","lang","index","language_label","color","containerStyle","shareStyles","container","THEME_OPTION","BIJLIRIDE","Colors","bijlirideBackgroundColor","main","title","subtitle","divider","takeSurveyButton","StyleSheet","create","white","flex","alignItems","justifyContent","paddingHorizontal","textAlign","marginTop","fontSize","opacity","lineHeight","flexDirection","maxHeight","flexWrap","marginHorizontal"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {\n  ScrollView,\n  View,\n  Text,\n  Image,\n  StyleSheet,\n  TouchableOpacity,\n} from 'react-native';\nimport { Colors } from '../styles';\nimport {\n  DimensionWidthType,\n  useDimensionWidthType,\n} from '../hooks/useWindowDimensions';\nimport Button from '../components/Button';\nimport { THEME_OPTION, useTheme } from '../contexts/theme';\nimport type { Survey as OriginSurvey } from '../data';\nimport { getLanguageBy } from '../utils/LanguageUtils';\n\ntype Survey = OriginSurvey & {\n  languages: string[];\n};\n\nconst defaultIconSource = require('../assets/rating.png');\nconst defaultIconSize = {\n  [DimensionWidthType.phone]: 65,\n  [DimensionWidthType.tablet]: 72,\n};\n\ntype Props = {\n  onLanguageSelect: (language: string) => void;\n  onStart: () => void;\n  survey: Survey;\n};\n\nconst ClassicStartScreen = ({ onLanguageSelect, onStart, survey }: Props) => {\n  const dimensionWidthType = useDimensionWidthType();\n  const { themeOption, hexCode, fontColor, backgroundColor } = useTheme();\n\n  const isPhone = dimensionWidthType === DimensionWidthType.phone;\n  const styles = isPhone ? phoneStyles : tabletStyles;\n\n  const { surveyProperty, surveyName, welcomeTextPlain, language, takeSurvey } =\n    survey;\n  const { image } = surveyProperty;\n\n  const [imageHeight, setImageHeight] = useState(65);\n  const iconStyle = {\n    width: '100%',\n    height: imageHeight,\n  };\n\n  useEffect(() => {\n    Image.getSize(\n      image,\n      (_, height) => {\n        if (height < defaultIconSize[dimensionWidthType]) {\n          setImageHeight(height);\n        }\n      },\n      (_) => {}\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const iconSource = image === undefined ? defaultIconSource : { uri: image };\n\n  const iconView = (\n    <Image resizeMode=\"contain\" style={iconStyle} source={iconSource} />\n  );\n\n  const buttonWidth = isPhone ? 143 : 160;\n\n  const languagesView = () => {\n    const { languages } = survey;\n\n    // if there's only one language or no languages, no need to display\n    if (!languages || !languages.length || languages.length <= 1) return null;\n\n    const languageView = languages.map((lang, index) => (\n      <TouchableOpacity\n        key={index}\n        onPress={() => {\n          onLanguageSelect && onLanguageSelect(lang);\n        }}\n      >\n        <Text\n          style={[\n            styles.language_label,\n            {\n              color: lang !== language ? hexCode : fontColor,\n            },\n          ]}\n        >\n          {getLanguageBy(lang)}\n        </Text>\n      </TouchableOpacity>\n    ));\n    return <View style={styles.languages}>{languageView}</View>;\n  };\n\n  const containerStyle = [\n    shareStyles.container,\n    {\n      backgroundColor:\n        themeOption === THEME_OPTION.BIJLIRIDE\n          ? Colors.bijlirideBackgroundColor\n          : backgroundColor,\n    },\n  ];\n\n  return (\n    <ScrollView contentContainerStyle={containerStyle}>\n      <View style={styles.main}>\n        {iconView}\n        <Text style={[styles.title, { color: fontColor }]}>{surveyName}</Text>\n        {!!welcomeTextPlain && (\n          <Text style={[styles.subtitle, { color: fontColor }]}>\n            {welcomeTextPlain}\n          </Text>\n        )}\n        <View style={styles.divider} />\n        <Button\n          width={buttonWidth}\n          title={takeSurvey}\n          color={hexCode}\n          onPress={onStart}\n          containerStyle={styles.takeSurveyButton}\n        />\n      </View>\n      {languagesView()}\n    </ScrollView>\n  );\n};\n\nexport default ClassicStartScreen;\n\nconst shareStyles = StyleSheet.create({\n  container: {\n    backgroundColor: Colors.white,\n    flex: 1,\n  },\n});\n\nconst phoneStyles = StyleSheet.create({\n  main: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingHorizontal: 38,\n    width: '100%',\n  },\n  title: {\n    textAlign: 'center',\n    marginTop: 14,\n    fontSize: 22,\n    opacity: 0.9,\n    lineHeight: 27,\n  },\n  subtitle: {\n    lineHeight: 23,\n    marginTop: 12,\n    fontSize: 16,\n    textAlign: 'center',\n    opacity: 0.72,\n  },\n  divider: {\n    backgroundColor: '#c3c3c3',\n    height: 1,\n    width: '100%',\n    marginTop: 26,\n  },\n  takeSurveyButton: {\n    marginTop: 21,\n  },\n  language_label: {\n    fontSize: 13,\n    paddingHorizontal: 8,\n  },\n  languages: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    height: '12%',\n    maxHeight: 90,\n    flexWrap: 'wrap',\n    marginHorizontal: 38,\n  },\n});\n\nconst tabletStyles = StyleSheet.create({\n  main: {\n    flex: 1,\n    alignItems: 'center',\n    paddingHorizontal: 70,\n    width: '100%',\n    justifyContent: 'center',\n  },\n  title: {\n    textAlign: 'center',\n    lineHeight: 38,\n    marginTop: 18,\n    fontSize: 31,\n    opacity: 0.9,\n  },\n  subtitle: {\n    lineHeight: 25,\n    marginTop: 17,\n    fontSize: 21,\n    textAlign: 'center',\n    opacity: 0.72,\n  },\n  divider: {\n    backgroundColor: '#c3c3c3',\n    height: 1,\n    width: '100%',\n    marginTop: 46,\n  },\n  takeSurveyButton: {\n    marginTop: 37,\n  },\n  language_label: {\n    fontSize: 13,\n    paddingHorizontal: 8,\n  },\n  languages: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    height: '10%',\n    maxHeight: 80,\n  },\n});\n"]}