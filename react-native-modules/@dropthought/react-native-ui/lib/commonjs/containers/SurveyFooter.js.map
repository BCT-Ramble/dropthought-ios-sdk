{"version":3,"sources":["SurveyFooter.tsx"],"names":["isAndroid","Platform","OS","SurveyFooter","props","rtl","i18n","dir","submitSurvey","surveyColor","isFirstPage","isLastPage","onPrevPage","onNextPage","backgroundColor","keyboardShown","containerStyle","styles","container","GlobalStyle","flexRowReverse","colorScheme","isDarkMode","COLOR_SCHEMES","dark","iconStyle","icon","tintColor","Colors","white","iconBgStyle","iconBg","opacity","submitDisabled","setSubmitDisabled","React","useState","leftIcon","require","rightIcon","submitButtonStyle","centerButtonContainer","borderRadius","language","textStyle","submitText","lineHeight","undefined","submitButton","row","setTimeout","leftButton","leftButtonContainer","rightButton","rightButtonContainer","StyleSheet","create","alignItems","width","height","position","left","right","minWidth","top","paddingHorizontal","paddingVertical","color","fontSize","fontWeight","memo"],"mappings":"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","sourcesContent":["/**\n * @description a extension UI/UX component of SurveyScreenLayout\n * it displays three buttons:\n *  - Back, displayed when page is > 0\n *  - Next, displayed when page is not end\n *  - Submit, displayed when page is the last page\n * When \"Back\" is pressed, call props.onPrevPage\n * When \"Next\" or \"Submit\" is pressed, call props.onNextPage\n */\nimport * as React from 'react';\nimport {\n  Image,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n  Platform,\n} from 'react-native';\nimport { useKeyboard } from '@react-native-community/hooks';\nimport { Colors, GlobalStyle } from '../styles';\nimport i18n from '../translation';\nimport { useTheme, COLOR_SCHEMES } from '../contexts/theme';\n\ntype Props = {\n  submitSurvey: string;\n  surveyColor: string;\n  isFirstPage: boolean;\n  isLastPage: boolean;\n  onPrevPage: () => void;\n  onNextPage: () => void;\n\n  // To apply backgroundColor for those smiley question which has full backgroundColor\n  backgroundColor?: string;\n};\n\nconst isAndroid = Platform.OS === 'android';\n\nconst SurveyFooter = (props: Props) => {\n  const rtl = i18n.dir() === 'rtl';\n  const {\n    submitSurvey,\n    surveyColor,\n    isFirstPage,\n    isLastPage,\n    onPrevPage,\n    onNextPage,\n    backgroundColor,\n  } = props;\n\n  const { keyboardShown } = useKeyboard();\n\n  const containerStyle = [\n    styles.container,\n    rtl && GlobalStyle.flexRowReverse,\n    {\n      backgroundColor,\n    },\n  ];\n  const { colorScheme } = useTheme();\n  const isDarkMode = colorScheme === COLOR_SCHEMES.dark;\n  const iconStyle = [\n    styles.icon,\n    { tintColor: isDarkMode ? Colors.white : surveyColor },\n  ];\n  const iconBgStyle = [\n    styles.iconBg,\n    { tintColor: surveyColor, opacity: isDarkMode ? 1 : 0.1 },\n  ];\n\n  const [submitDisabled, setSubmitDisabled] = React.useState(false);\n\n  const leftIcon = (\n    <>\n      <Image\n        style={iconBgStyle}\n        source={require('../assets/icPreviousButtonBg.png')}\n      />\n      <Image\n        style={iconStyle}\n        source={require('../assets/icPreviousButton.png')}\n      />\n    </>\n  );\n\n  const rightIcon = (\n    <>\n      <Image\n        style={iconBgStyle}\n        source={require('../assets/icNextButtonBg.png')}\n      />\n      <Image style={iconStyle} source={require('../assets/icNextButton.png')} />\n    </>\n  );\n\n  const submitButtonStyle = [\n    styles.centerButtonContainer,\n    {\n      backgroundColor: surveyColor,\n      borderRadius: i18n.language === 'te' ? 25 : 20,\n    },\n  ];\n\n  const textStyle = [\n    styles.submitText,\n    { lineHeight: i18n.language === 'te' ? 26 : undefined },\n  ];\n\n  const submitButton = (\n    <View style={GlobalStyle.row}>\n      <TouchableOpacity\n        style={submitButtonStyle}\n        disabled={submitDisabled}\n        onPress={() => {\n          setSubmitDisabled(true);\n          setTimeout(() => setSubmitDisabled(false), 1000);\n          onNextPage();\n        }}\n      >\n        <Text style={textStyle}>{submitSurvey}</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  const leftButton = (\n    <TouchableOpacity style={styles.leftButtonContainer} onPress={onPrevPage}>\n      {rtl ? rightIcon : leftIcon}\n    </TouchableOpacity>\n  );\n\n  const rightButton = (\n    <TouchableOpacity style={styles.rightButtonContainer} onPress={onNextPage}>\n      {rtl ? leftIcon : rightIcon}\n    </TouchableOpacity>\n  );\n\n  // hide this bar when it is android and keyboard is shown\n  if (isAndroid && keyboardShown) return null;\n  return (\n    <View style={containerStyle}>\n      {isFirstPage ? null : leftButton}\n      {isLastPage ? submitButton : rightButton}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    width: '100%',\n    height: 100,\n  },\n  leftButtonContainer: {\n    position: 'absolute',\n    left: 0,\n  },\n  rightButtonContainer: {\n    position: 'absolute',\n    right: 0,\n  },\n  centerButtonContainer: {\n    minWidth: 100,\n    borderRadius: 20,\n    top: 14,\n    paddingHorizontal: 30,\n    paddingVertical: 12,\n  },\n  submitText: {\n    color: Colors.white,\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  icon: {\n    position: 'absolute',\n    top: 21,\n    left: 13,\n  },\n  iconBg: {\n    opacity: 0.5,\n  },\n});\n\nexport default React.memo(SurveyFooter);\n"]}