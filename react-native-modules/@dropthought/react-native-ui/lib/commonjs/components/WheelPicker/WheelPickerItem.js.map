{"version":3,"sources":["WheelPickerItem.tsx"],"names":["WheelPickerItem","textStyle","style","height","option","index","visibleRest","currentScrollIndex","opacityFunction","rotationFunction","relativeScrollIndex","Animated","subtract","translateY","interpolate","inputRange","range","i","unshift","push","outputRange","y","Math","sin","PI","j","opacity","x","rotateX","styles","transform","React","memo"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { StyleProp, TextStyle, Animated, Text, ViewStyle } from 'react-native';\nimport styles from './WheelPicker.styles';\n\ninterface ItemProps {\n  textStyle: StyleProp<TextStyle>;\n  style: StyleProp<ViewStyle>;\n  option: string | null;\n  height: number;\n  index: number;\n  currentScrollIndex: Animated.AnimatedAddition;\n  visibleRest: number;\n  rotationFunction: (x: number) => number;\n  opacityFunction: (x: number) => number;\n}\n\nconst WheelPickerItem: React.FC<ItemProps> = ({\n  textStyle,\n  style,\n  height,\n  option,\n  index,\n  visibleRest,\n  currentScrollIndex,\n  opacityFunction,\n  rotationFunction,\n}) => {\n  const relativeScrollIndex = Animated.subtract(index, currentScrollIndex);\n\n  const translateY = relativeScrollIndex.interpolate({\n    inputRange: (() => {\n      const range = [0];\n      for (let i = 1; i <= visibleRest + 1; i++) {\n        range.unshift(-i);\n        range.push(i);\n      }\n      return range;\n    })(),\n    outputRange: (() => {\n      const range = [0];\n      for (let i = 1; i <= visibleRest + 1; i++) {\n        let y =\n          (height / 2) * (1 - Math.sin(Math.PI / 2 - rotationFunction(i)));\n        for (let j = 1; j < i; j++) {\n          y += height * (1 - Math.sin(Math.PI / 2 - rotationFunction(j)));\n        }\n        range.unshift(y);\n        range.push(-y);\n      }\n      return range;\n    })(),\n  });\n\n  const opacity = relativeScrollIndex.interpolate({\n    inputRange: (() => {\n      const range = [0];\n      for (let i = 1; i <= visibleRest + 1; i++) {\n        range.unshift(-i);\n        range.push(i);\n      }\n      return range;\n    })(),\n    outputRange: (() => {\n      const range = [1];\n      for (let x = 1; x <= visibleRest + 1; x++) {\n        const y = opacityFunction(x);\n        range.unshift(y);\n        range.push(y);\n      }\n      return range;\n    })(),\n  });\n\n  const rotateX = relativeScrollIndex.interpolate({\n    inputRange: (() => {\n      const range = [0];\n      for (let i = 1; i <= visibleRest + 1; i++) {\n        range.unshift(-i);\n        range.push(i);\n      }\n      return range;\n    })(),\n    outputRange: (() => {\n      const range = ['0deg'];\n      for (let x = 1; x <= visibleRest + 1; x++) {\n        const y = rotationFunction(x);\n        range.unshift(`${y}deg`);\n        range.push(`${y}deg`);\n      }\n      return range;\n    })(),\n  });\n\n  return (\n    <Animated.View\n      style={[\n        styles.option,\n        style,\n        { height, opacity, transform: [{ translateY }, { rotateX }] },\n      ]}\n    >\n      <Text style={textStyle}>{option}</Text>\n    </Animated.View>\n  );\n};\n\nexport default React.memo(\n  WheelPickerItem,\n  /**\n   * We enforce that this component will not rerender after the initial render.\n   * Therefore props that change on every render like style objects or functions\n   * do not need to be wrapped into useMemo and useCallback.\n   */\n  () => true\n);\n"]}